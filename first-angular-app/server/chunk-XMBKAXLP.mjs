import './polyfills.server.mjs';
import{$ as te,A as De,Aa as Si,B as L,Ba as ht,C as v,Ca as ye,D as fi,Da as z,E as m,Ea as xi,F as ee,Fa as Di,G as at,Ga as wi,H as _i,Ha as Mi,I as vi,Ia as Ai,J as s,Ja as Vi,K as o,L as p,M as we,Ma as Pi,N as Me,O as w,P as h,Q as S,Qa as gt,R as lt,Ra as ft,S as dt,T as ct,Ta as P,U as re,Ua as Pe,V as a,Va as Oi,W as b,Wa as Fi,X as _,Y as M,Z as A,_ as V,a as ci,aa as E,b as ui,ba as ve,c as mi,ca as J,d as pi,da as ut,e as rt,ea as Ce,f as X,g as O,ga as Ci,h as ot,i as fe,j as F,k as Te,ka as yi,l as y,m as st,ma as bi,n as I,o as hi,oa as Yt,p as Be,pa as Ae,q as g,qa as oe,r as f,ra as Ei,s as xe,sa as Jt,t as _e,u as je,ua as Ve,v as gi,va as B,w as ne,wa as j,x as d,xa as mt,y as u,ya as pt,z as Ue,za as q}from"./chunk-IQDKDF4N.mjs";import{a as D,b as R}from"./chunk-5XUXGTUW.mjs";var _t=class n{title="shopapp-angular";static \u0275fac=function(e){return new(e||n)};static \u0275cmp=y({type:n,selectors:[["app-root"]],standalone:!0,features:[E],decls:1,vars:0,template:function(e,i){e&1&&p(0,"router-outlet")},dependencies:[ft]})};var k=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=y({type:n,selectors:[["app-footer"]],standalone:!0,features:[E],decls:10,vars:0,consts:[[1,"footer"],[1,"container"],[1,"row","footer-description"],[1,"col-md-6"],[1,"text-end"]],template:function(e,i){e&1&&(s(0,"footer")(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"p"),a(6,"\xA9 2023 Your company. All rights reserved."),o()(),s(7,"div",3)(8,"p",4),a(9,"Terms of service | Privacy Policy"),o()()()()()())},styles:[".footer-description[_ngcontent-%COMP%]{color:#adbbcb}"]})};var C={production:!1,apiBaseUrl:"http://localhost:8088/api/v1"};var Gi=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static{this.\u0275fac=function(i){return new(i||n)(u(Ue),u(je))}}static{this.\u0275dir=I({type:n})}}return n})(),Mt=(()=>{class n extends Gi{static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=xe(n)))(r||n)}})()}static{this.\u0275dir=I({type:n,features:[L]})}}return n})(),Ne=new fe(""),Cn={provide:Ne,useExisting:X(()=>ze),multi:!0},ze=(()=>{class n extends Mt{writeValue(e){this.setProperty("checked",e)}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=xe(n)))(r||n)}})()}static{this.\u0275dir=I({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,r){i&1&&h("change",function(c){return r.onChange(c.target.checked)})("blur",function(){return r.onTouched()})},features:[te([Cn]),L]})}}return n})(),yn={provide:Ne,useExisting:X(()=>U),multi:!0};function bn(){let n=Jt()?Jt().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var En=new fe(""),U=(()=>{class n extends Gi{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!bn())}writeValue(e){let i=e??"";this.setProperty("value",i)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static{this.\u0275fac=function(i){return new(i||n)(u(Ue),u(je),u(En,8))}}static{this.\u0275dir=I({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&h("input",function(c){return r._handleInput(c.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(c){return r._compositionEnd(c.target.value)})},features:[te([yn]),L]})}}return n})();function de(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}function Li(n){return n!=null&&typeof n.length=="number"}var Ke=new fe(""),At=new fe(""),Sn=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,$=class{static min(t){return xn(t)}static max(t){return Dn(t)}static required(t){return Wi(t)}static requiredTrue(t){return wn(t)}static email(t){return Mn(t)}static minLength(t){return An(t)}static maxLength(t){return Vn(t)}static pattern(t){return Pn(t)}static nullValidator(t){return Ct(t)}static compose(t){return Yi(t)}static composeAsync(t){return Ji(t)}};function xn(n){return t=>{if(de(t.value)||de(n))return null;let e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}function Dn(n){return t=>{if(de(t.value)||de(n))return null;let e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}function Wi(n){return de(n.value)?{required:!0}:null}function wn(n){return n.value===!0?null:{required:!0}}function Mn(n){return de(n.value)||Sn.test(n.value)?null:{email:!0}}function An(n){return t=>de(t.value)||!Li(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}function Vn(n){return t=>Li(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}function Pn(n){if(!n)return Ct;let t,e;return typeof n=="string"?(e="",n.charAt(0)!=="^"&&(e+="^"),e+=n,n.charAt(n.length-1)!=="$"&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(de(i.value))return null;let r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}function Ct(n){return null}function $i(n){return n!=null}function qi(n){return Ci(n)?ui(n):n}function zi(n){let t={};return n.forEach(e=>{t=e!=null?D(D({},t),e):t}),Object.keys(t).length===0?null:t}function Ki(n,t){return t.map(e=>e(n))}function On(n){return!n.validate}function Qi(n){return n.map(t=>On(t)?t:e=>t.validate(e))}function Yi(n){if(!n)return null;let t=n.filter($i);return t.length==0?null:function(e){return zi(Ki(e,t))}}function ni(n){return n!=null?Yi(Qi(n)):null}function Ji(n){if(!n)return null;let t=n.filter($i);return t.length==0?null:function(e){let i=Ki(e,t).map(qi);return pi(i).pipe(mi(zi))}}function ri(n){return n!=null?Ji(Qi(n)):null}function Ii(n,t){return n===null?[t]:Array.isArray(n)?[...n,t]:[n,t]}function Zi(n){return n._rawValidators}function Xi(n){return n._rawAsyncValidators}function Zt(n){return n?Array.isArray(n)?n:[n]:[]}function yt(n,t){return Array.isArray(n)?n.includes(t):n===t}function ki(n,t){let e=Zt(t);return Zt(n).forEach(r=>{yt(e,r)||e.push(r)}),e}function Ni(n,t){return Zt(t).filter(e=>!yt(n,e))}var bt=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=ni(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=ri(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return this.control?this.control.hasError(t,e):!1}getError(t,e){return this.control?this.control.getError(t,e):null}},se=class extends bt{get formDirective(){return null}get path(){return null}},be=class extends bt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Et=class{constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},Fn={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},uo=R(D({},Fn),{"[class.ng-submitted]":"isSubmitted"}),H=(()=>{class n extends Et{constructor(e){super(e)}static{this.\u0275fac=function(i){return new(i||n)(u(be,2))}}static{this.\u0275dir=I({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&ee("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[L]})}}return n})(),ue=(()=>{class n extends Et{constructor(e){super(e)}static{this.\u0275fac=function(i){return new(i||n)(u(se,10))}}static{this.\u0275dir=I({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){i&2&&ee("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[L]})}}return n})();var He="VALID",vt="INVALID",Oe="PENDING",Ge="DISABLED",ce=class{},St=class extends ce{constructor(t,e){super(),this.value=t,this.source=e}},We=class extends ce{constructor(t,e){super(),this.pristine=t,this.source=e}},$e=class extends ce{constructor(t,e){super(),this.touched=t,this.source=e}},Fe=class extends ce{constructor(t,e){super(),this.status=t,this.source=e}},Xt=class extends ce{constructor(t){super(),this.source=t}},ei=class extends ce{constructor(t){super(),this.source=t}};function oi(n){return(Vt(n)?n.validators:n)||null}function In(n){return Array.isArray(n)?ni(n):n||null}function si(n,t){return(Vt(t)?t.asyncValidators:n)||null}function kn(n){return Array.isArray(n)?ri(n):n||null}function Vt(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function en(n,t,e){let i=n.controls;if(!(t?Object.keys(i):i).length)throw new rt(1e3,"");if(!i[e])throw new rt(1001,"")}function tn(n,t,e){n._forEachChild((i,r)=>{if(e[r]===void 0)throw new rt(1002,"")})}var Ie=class{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Ae(()=>this.statusReactive()),this.statusReactive=De(void 0),this._pristine=Ae(()=>this.pristineReactive()),this.pristineReactive=De(!0),this._touched=Ae(()=>this.touchedReactive()),this.touchedReactive=De(!1),this._events=new ci,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return oe(this.statusReactive)}set status(t){oe(()=>this.statusReactive.set(t))}get valid(){return this.status===He}get invalid(){return this.status===vt}get pending(){return this.status==Oe}get disabled(){return this.status===Ge}get enabled(){return this.status!==Ge}get pristine(){return oe(this.pristineReactive)}set pristine(t){oe(()=>this.pristineReactive.set(t))}get dirty(){return!this.pristine}get touched(){return oe(this.touchedReactive)}set touched(t){oe(()=>this.touchedReactive.set(t))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(ki(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(ki(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Ni(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Ni(t,this._rawAsyncValidators))}hasValidator(t){return yt(this._rawValidators,t)}hasAsyncValidator(t){return yt(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let e=this.touched===!1;this.touched=!0;let i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(R(D({},t),{sourceControl:i})),e&&t.emitEvent!==!1&&this._events.next(new $e(!0,i))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(t))}markAsUntouched(t={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=t.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:i})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,i),e&&t.emitEvent!==!1&&this._events.next(new $e(!1,i))}markAsDirty(t={}){let e=this.pristine===!0;this.pristine=!1;let i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(R(D({},t),{sourceControl:i})),e&&t.emitEvent!==!1&&this._events.next(new We(!1,i))}markAsPristine(t={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=t.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,i),e&&t.emitEvent!==!1&&this._events.next(new We(!0,i))}markAsPending(t={}){this.status=Oe;let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Fe(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(R(D({},t),{sourceControl:e}))}disable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=Ge,this.errors=null,this._forEachChild(r=>{r.disable(R(D({},t),{onlySelf:!0}))}),this._updateValue();let i=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new St(this.value,i)),this._events.next(new Fe(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(R(D({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=He,this._forEachChild(i=>{i.enable(R(D({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(R(D({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t,e){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===He||this.status===Oe)&&this._runAsyncValidator(i,t.emitEvent)}let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new St(this.value,e)),this._events.next(new Fe(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(R(D({},t),{sourceControl:e}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ge:He}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,e){if(this.asyncValidator){this.status=Oe,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1};let i=qi(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:e,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(t){let e=t;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){let i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,e,i){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||i)&&this._events.next(new Fe(this.status,e)),this._parent&&this._parent._updateControlsErrors(t,e,i)}_initObservables(){this.valueChanges=new _e,this.statusChanges=new _e}_calculateStatus(){return this._allControlsDisabled()?Ge:this.errors?vt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Oe)?Oe:this._anyControlsHaveStatus(vt)?vt:He}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,e){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,e),r&&this._events.next(new We(this.pristine,e))}_updateTouched(t={},e){this.touched=this._anyControlsTouched(),this._events.next(new $e(this.touched,e)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,e)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Vt(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let e=this._parent&&this._parent.dirty;return!t&&!!e&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=In(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=kn(this._rawAsyncValidators)}},ke=class extends Ie{constructor(t,e,i){super(oi(e),si(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){tn(this,!0,t),Object.keys(t).forEach(i=>{en(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(Object.keys(t).forEach(i=>{let r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t?t[r]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>i._syncPendingControls()?!0:e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{let i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,l)=>{i=e(i,r,l)}),i}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var ti=class extends ke{};var Qe=new fe("CallSetDisabledState",{providedIn:"root",factory:()=>Pt}),Pt="always";function nn(n,t){return[...t.path,n]}function xt(n,t,e=Pt){ai(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||e==="always")&&t.valueAccessor.setDisabledState?.(n.disabled),Rn(n,t),Bn(n,t),Tn(n,t),Nn(n,t)}function Ri(n,t,e=!0){let i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),wt(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Dt(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function Nn(n,t){if(t.valueAccessor.setDisabledState){let e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}function ai(n,t){let e=Zi(n);t.validator!==null?n.setValidators(Ii(e,t.validator)):typeof e=="function"&&n.setValidators([e]);let i=Xi(n);t.asyncValidator!==null?n.setAsyncValidators(Ii(i,t.asyncValidator)):typeof i=="function"&&n.setAsyncValidators([i]);let r=()=>n.updateValueAndValidity();Dt(t._rawValidators,r),Dt(t._rawAsyncValidators,r)}function wt(n,t){let e=!1;if(n!==null){if(t.validator!==null){let r=Zi(n);if(Array.isArray(r)&&r.length>0){let l=r.filter(c=>c!==t.validator);l.length!==r.length&&(e=!0,n.setValidators(l))}}if(t.asyncValidator!==null){let r=Xi(n);if(Array.isArray(r)&&r.length>0){let l=r.filter(c=>c!==t.asyncValidator);l.length!==r.length&&(e=!0,n.setAsyncValidators(l))}}}let i=()=>{};return Dt(t._rawValidators,i),Dt(t._rawAsyncValidators,i),e}function Rn(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&rn(n,t)})}function Tn(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&rn(n,t),n.updateOn!=="submit"&&n.markAsTouched()})}function rn(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Bn(n,t){let e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}function on(n,t){n==null,ai(n,t)}function jn(n,t){return wt(n,t)}function sn(n,t){if(!n.hasOwnProperty("model"))return!1;let e=n.model;return e.isFirstChange()?!0:!Object.is(t,e.currentValue)}function Un(n){return Object.getPrototypeOf(n.constructor)===Mt}function an(n,t){n._syncPendingControls(),t.forEach(e=>{let i=e.control;i.updateOn==="submit"&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function ln(n,t){if(!t)return null;Array.isArray(t);let e,i,r;return t.forEach(l=>{l.constructor===U?e=l:Un(l)?i=l:r=l}),r||i||e||null}function Hn(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}var Gn={provide:se,useExisting:X(()=>Ye)},Le=Promise.resolve(),Ye=(()=>{class n extends se{get submitted(){return oe(this.submittedReactive)}constructor(e,i,r){super(),this.callSetDisabledState=r,this._submitted=Ae(()=>this.submittedReactive()),this.submittedReactive=De(!1),this._directives=new Set,this.ngSubmit=new _e,this.form=new ke({},ni(e),ri(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Le.then(()=>{let i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),xt(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Le.then(()=>{let i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){Le.then(()=>{let i=this._findContainer(e.path),r=new ke({});on(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Le.then(()=>{let i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){Le.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submittedReactive.set(!0),an(this.form,this._directives),this.ngSubmit.emit(e),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static{this.\u0275fac=function(i){return new(i||n)(u(Ke,10),u(At,10),u(Qe,8))}}static{this.\u0275dir=I({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){i&1&&h("submit",function(c){return r.onSubmit(c)})("reset",function(){return r.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[te([Gn]),L]})}}return n})();function Ti(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}function Bi(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var qe=class extends Ie{constructor(t=null,e,i){super(oi(e),si(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Vt(e)&&(e.nonNullable||e.initialValueIsDefault)&&(Bi(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Ti(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Ti(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){Bi(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var Ln=n=>n instanceof qe;var Wn={provide:be,useExisting:X(()=>Z)},ji=Promise.resolve(),Z=(()=>{class n extends be{constructor(e,i,r,l,c,T){super(),this._changeDetectorRef=c,this.callSetDisabledState=T,this.control=new qe,this._registered=!1,this.name="",this.update=new _e,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=ln(this,l)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),sn(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){xt(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){ji.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let i=e.isDisabled.currentValue,r=i!==0&&Yt(i);ji.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?nn(e,this._parent):[e]}static{this.\u0275fac=function(i){return new(i||n)(u(se,9),u(Ke,10),u(At,10),u(Ne,10),u(bi,8),u(Qe,8))}}static{this.\u0275dir=I({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[te([Wn]),L,Be]})}}return n})(),me=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=I({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})();var dn=new fe("");var $n={provide:se,useExisting:X(()=>Je)},Je=(()=>{class n extends se{get submitted(){return oe(this._submittedReactive)}set submitted(e){this._submittedReactive.set(e)}constructor(e,i,r){super(),this.callSetDisabledState=r,this._submitted=Ae(()=>this._submittedReactive()),this._submittedReactive=De(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new _e,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(wt(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){let i=this.form.get(e.path);return xt(i,e,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){Ri(e.control||null,e,!1),Hn(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this._submittedReactive.set(!0),an(this.form,this.directives),this.ngSubmit.emit(e),this.form._events.next(new Xt(this.control)),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this._submittedReactive.set(!1),this.form._events.next(new ei(this.form))}_updateDomValue(){this.directives.forEach(e=>{let i=e.control,r=this.form.get(e.path);i!==r&&(Ri(i||null,e),Ln(r)&&(xt(r,e,this.callSetDisabledState),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){let i=this.form.get(e.path);on(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){let i=this.form.get(e.path);i&&jn(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ai(this.form,this),this._oldForm&&wt(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(i){return new(i||n)(u(Ke,10),u(At,10),u(Qe,8))}}static{this.\u0275dir=I({type:n,selectors:[["","formGroup",""]],hostBindings:function(i,r){i&1&&h("submit",function(c){return r.onSubmit(c)})("reset",function(){return r.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[te([$n]),L,Be]})}}return n})();var qn={provide:be,useExisting:X(()=>Ze)},Ze=(()=>{class n extends be{set isDisabled(e){}static{this._ngModelWarningSentOnce=!1}constructor(e,i,r,l,c){super(),this._ngModelWarningConfig=c,this._added=!1,this.name=null,this.update=new _e,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=ln(this,l)}ngOnChanges(e){this._added||this._setUpControl(),sn(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return nn(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(i){return new(i||n)(u(se,13),u(Ke,10),u(At,10),u(Ne,10),u(dn,8))}}static{this.\u0275dir=I({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[te([qn]),L,Be]})}}return n})(),zn={provide:Ne,useExisting:X(()=>ie),multi:!0};function cn(n,t){return n==null?`${t}`:(t&&typeof t=="object"&&(t="Object"),`${n}: ${t}`.slice(0,50))}function Kn(n){return n.split(":")[0]}var ie=(()=>{class n extends Mt{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;let i=this._getOptionId(e),r=cn(i,e);this.setProperty("value",r)}registerOnChange(e){this.onChange=i=>{this.value=this._getOptionValue(i),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),e))return i;return null}_getOptionValue(e){let i=Kn(e);return this._optionMap.has(i)?this._optionMap.get(i):e}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=xe(n)))(r||n)}})()}static{this.\u0275dir=I({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,r){i&1&&h("change",function(c){return r.onChange(c.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[te([zn]),L]})}}return n})(),pe=(()=>{class n{constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(e){this._select!=null&&(this._select._optionMap.set(this.id,e),this._setElementValue(cn(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(i){return new(i||n)(u(je),u(Ue),u(ie,9))}}static{this.\u0275dir=I({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})(),Qn={provide:Ne,useExisting:X(()=>un),multi:!0};function Ui(n,t){return n==null?`${t}`:(typeof t=="string"&&(t=`'${t}'`),t&&typeof t=="object"&&(t="Object"),`${n}: ${t}`.slice(0,50))}function Yn(n){return n.split(":")[0]}var un=(()=>{class n extends Mt{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;let i;if(Array.isArray(e)){let r=e.map(l=>this._getOptionId(l));i=(l,c)=>{l._setSelected(r.indexOf(c.toString())>-1)}}else i=(r,l)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(e){this.onChange=i=>{let r=[],l=i.selectedOptions;if(l!==void 0){let c=l;for(let T=0;T<c.length;T++){let le=c[T],Qt=this._getOptionValue(le.value);r.push(Qt)}}else{let c=i.options;for(let T=0;T<c.length;T++){let le=c[T];if(le.selected){let Qt=this._getOptionValue(le.value);r.push(Qt)}}}this.value=r,e(r)}}_registerOption(e){let i=(this._idCounter++).toString();return this._optionMap.set(i,e),i}_getOptionId(e){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,e))return i;return null}_getOptionValue(e){let i=Yn(e);return this._optionMap.has(i)?this._optionMap.get(i)._value:e}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=xe(n)))(r||n)}})()}static{this.\u0275dir=I({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,r){i&1&&h("change",function(c){return r.onChange(c.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[te([Qn]),L]})}}return n})(),he=(()=>{class n{constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){this._select!=null&&(this._value=e,this._setElementValue(Ui(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(Ui(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(i){return new(i||n)(u(je),u(Ue),u(un,9))}}static{this.\u0275dir=I({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})();var Jn=(()=>{class n{constructor(){this._validator=Ct}ngOnChanges(e){if(this.inputName in e){let i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Ct,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return e!=null}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=I({type:n,features:[Be]})}}return n})();var Zn={provide:Ke,useExisting:X(()=>Ee),multi:!0};var Ee=(()=>{class n extends Jn{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Yt,this.createValidator=e=>Wi}enabled(e){return e}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=xe(n)))(r||n)}})()}static{this.\u0275dir=I({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,r){i&2&&fi("required",r._enabled?"":null)},inputs:{required:"required"},features:[te([Zn]),L]})}}return n})();var mn=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=st({type:n})}static{this.\u0275inj=ot({})}}return n})(),ii=class extends Ie{constructor(t,e,i){super(oi(e),si(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),e&&(this.controls.splice(r,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){tn(this,!1,t),t.forEach((i,r)=>{en(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,i)=>i._syncPendingControls()?!0:e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(let t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}};function Hi(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var Ot=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){let e=new n;return e.useNonNullable=!0,e}group(e,i=null){let r=this._reduceControls(e),l={};return Hi(i)?l=i:i!==null&&(l.validators=i.validator,l.asyncValidators=i.asyncValidator),new ke(r,l)}record(e,i=null){let r=this._reduceControls(e);return new ti(r,i)}control(e,i,r){let l={};return this.useNonNullable?(Hi(i)?l=i:(l.validators=i,l.asyncValidators=r),new qe(e,R(D({},l),{nonNullable:!0}))):new qe(e,i,r)}array(e,i,r){let l=e.map(c=>this._createControl(c));return new ii(l,i,r)}_reduceControls(e){let i={};return Object.keys(e).forEach(r=>{i[r]=this._createControl(e[r])}),i}_createControl(e){if(e instanceof qe)return e;if(e instanceof Ie)return e;if(Array.isArray(e)){let i=e[0],r=e.length>1?e[1]:null,l=e.length>2?e[2]:null;return this.control(i,r,l)}else return this.control(e)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var N=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Qe,useValue:e.callSetDisabledState??Pt}]}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=st({type:n})}static{this.\u0275inj=ot({imports:[mn]})}}return n})(),Ft=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:dn,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:Qe,useValue:e.callSetDisabledState??Pt}]}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=st({type:n})}static{this.\u0275inj=ot({imports:[mn]})}}return n})();var K=class n{constructor(t){this.http=t}apiGetProducts=`${C.apiBaseUrl}/products`;getProducts(t,e,i,r){let l=new ye().set("keyword",t).set("category_id",e).set("page",i.toString()).set("limit",r.toString());return this.http.get(this.apiGetProducts,{params:l})}getDetailProduct(t){return this.http.get(`${C.apiBaseUrl}/products/${t}`)}getProductsByIds(t){debugger;let e=new ye().set("ids",t.join(","));return this.http.get(`${this.apiGetProducts}/by-ids`,{params:e})}static \u0275fac=function(e){return new(e||n)(F(z))};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})};var It=class n{constructor(t){this.http=t}apiGetCategories=`${C.apiBaseUrl}/categories`;getCategories(t,e){let i=new ye().set("page",t.toString()).set("limit",e.toString());return this.http.get(this.apiGetCategories,{params:i})}static \u0275fac=function(e){return new(e||n)(F(z))};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})};var er=n=>({active:n});function tr(n,t){if(n&1&&(s(0,"option",5),a(1),o()),n&2){let e=t.$implicit;m("value",e.id),d(),_(" ",e.name," ")}}function ir(n,t){if(n&1){let e=w();s(0,"div",15)(1,"div",16)(2,"img",17),h("click",function(){let r=g(e).$implicit,l=S();return f(l.onProductClick(r.id))}),o(),s(3,"h3",18),a(4),o(),s(5,"p",19),a(6),o(),s(7,"p",20),a(8),o(),s(9,"div",21)(10,"button",22),a(11,"Th\xEAm v\xE0o gi\u1ECF h\xE0ng"),o(),p(12,"span",23),s(13,"button",24),a(14,"Mua ngay"),o()()()()}if(n&2){let e=t.$implicit;d(2),m("src",e.url,ne),d(2),_(" ",e.name," "),d(2),b(e.description),d(2),_("Gi\xE1: $",e.price,"")}}function nr(n,t){if(n&1){let e=w();s(0,"li",25)(1,"a",26),h("click",function(){g(e);let r=S();return f(r.onPageChange(1))}),a(2,"First"),o()()}}function rr(n,t){if(n&1){let e=w();s(0,"li",25)(1,"a",26),h("click",function(){g(e);let r=S();return f(r.onPageChange(r.currentPage-1))}),a(2,"Previous"),o()()}}function or(n,t){if(n&1){let e=w();we(0),s(1,"li",27)(2,"a",26),h("click",function(){let r=g(e).$implicit,l=S();return f(l.onPageChange(r))}),a(3),o()(),Me()}if(n&2){let e=t.$implicit,i=S();d(),m("ngClass",ve(2,er,e===i.currentPage)),d(2),b(e)}}function sr(n,t){if(n&1){let e=w();s(0,"li",25)(1,"a",26),h("click",function(){g(e);let r=S();return f(r.onPageChange(r.currentPage+1))}),a(2,"Next"),o()()}}function ar(n,t){if(n&1){let e=w();s(0,"li",25)(1,"a",26),h("click",function(){g(e);let r=S();return f(r.onPageChange(r.totalPages))}),a(2,"Last"),o()()}}var kt=class n{constructor(t,e,i){this.productService=t;this.categoryService=e;this.router=i}products=[];categories=[];selectedCategoryId=0;currentPage=1;itemsPerPage=12;pages=[];totalPages=0;visiblePages=[];keyword="";ngOnInit(){this.getProducts(this.keyword,this.selectedCategoryId,this.currentPage,this.itemsPerPage),this.getCategories(1,100)}getProducts(t,e,i,r){this.productService.getProducts(t,e,i,r).subscribe({next:l=>{debugger;l.products.forEach(c=>{c.url=`${C.apiBaseUrl}/products/images/${c.thumbnail}`}),this.products=l.products,this.totalPages=l.totalPages,this.visiblePages=this.generateVisiblePageArray(this.currentPage,this.totalPages)},complete:()=>{debugger},error:l=>{debugger;console.error("Error fetching products:",l)}})}getCategories(t,e){this.categoryService.getCategories(t,e).subscribe({next:i=>{debugger;this.categories=i},complete:()=>{},error:i=>{console.error("Error fetching categories",i)}})}onPageChange(t){this.currentPage=t,this.getProducts(this.keyword,this.selectedCategoryId,this.currentPage,this.itemsPerPage)}searchProducts(){this.currentPage=1,this.itemsPerPage=12;debugger;this.getProducts(this.keyword,this.selectedCategoryId,this.currentPage,this.itemsPerPage)}generateVisiblePageArray(t,e){let r=Math.floor(2.5),l=Math.max(t-r,1),c=Math.min(l+5-1,e);return c-l+1<5&&(l=Math.max(c-5+1,1)),new Array(c-l+1).fill(0).map((T,le)=>l+le)}onProductClick(t){this.router.navigate(["/products",t])}static \u0275fac=function(e){return new(e||n)(u(K),u(It),u(P))};static \u0275cmp=y({type:n,selectors:[["app-home"]],standalone:!0,features:[E],decls:28,vars:10,consts:[[1,"container"],[1,"intro-section"],[1,"search-box"],["type","text","placeholder","T\xECm s\u1EA3n ph\u1EA9m",1,"form-control","search-input",3,"ngModelChange","ngModel"],[1,"form-control","product-category",3,"ngModelChange","ngModel"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],[1,"btn","btn-primary","ml-2",3,"click"],[1,"row"],["class","col-lg-4 col-md-6",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-center"],["aria-label","Page navigation"],[1,"pagination"],["class","page-item",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"col-lg-4","col-md-6"],[1,"product-item"],["alt","Product Image",1,"product-image",3,"click","src"],[1,"product-name"],[1,"product-description"],[1,"product-price"],[1,"product-actions"],[1,"btn","btn-primary"],[1,"space-x"],[1,"btn","btn-success"],[1,"page-item"],["href","#",1,"page-link",3,"click"],[1,"page-item",3,"ngClass"]],template:function(e,i){e&1&&(s(0,"div",0),a(1," this is home "),s(2,"div",1)(3,"h1"),a(4,"\u0110\xE2y l\xE0 trang Home"),o(),s(5,"P"),a(6,"Trang n\xE0y hi\u1EC3n th\u1ECB danh s\xE1ch c\xE1c s\u1EA3n ph\u1EA9m, k\xE8m \u1EA3nh"),o(),s(7,"p"),a(8,"C\xE1c b\u1EA1n c\xF3 th\u1EC3 ch\u1ECDn xem s\u1EA3n ph\u1EA9m v\xE0 mua h\xE0ng t\u1EA1i \u0111\xE2y"),o()(),s(9,"div",2)(10,"input",3),V("ngModelChange",function(l){return A(i.keyword,l)||(i.keyword=l),l}),o(),s(11,"select",4),V("ngModelChange",function(l){return A(i.selectedCategoryId,l)||(i.selectedCategoryId=l),l}),s(12,"option",5),a(13,"T\u1EA5t c\u1EA3"),o(),v(14,tr,2,2,"option",6),o(),s(15,"button",7),h("click",function(){return i.searchProducts()}),a(16," T\xECm ki\u1EBFm "),o()(),s(17,"div",8),v(18,ir,15,4,"div",9),o()(),s(19,"div",10)(20,"nav",11)(21,"ul",12),v(22,nr,3,0,"li",13)(23,rr,3,0,"li",13)(24,or,4,4,"ng-container",14)(25,sr,3,0,"li",13)(26,ar,3,0,"li",13),o()()(),p(27,"app-footer")),e&2&&(d(10),M("ngModel",i.keyword),d(),M("ngModel",i.selectedCategoryId),d(),m("value",0),d(2),m("ngForOf",i.categories),d(4),m("ngForOf",i.products),d(4),m("ngIf",i.currentPage>1),d(),m("ngIf",i.currentPage>1),d(),m("ngForOf",i.visiblePages),d(),m("ngIf",i.currentPage<i.totalPages),d(),m("ngIf",i.currentPage<i.totalPages))},dependencies:[k,B,j,Ve,N,pe,he,U,ie,H,Z],styles:[".intro-section[_ngcontent-%COMP%]{text-align:center;color:#fff;padding:20px}.search-box[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin-bottom:20px}.product-category[_ngcontent-%COMP%]{width:200px}.search-input[_ngcontent-%COMP%]{width:300px;background-color:#13172a;margin-right:10px;border-color:#ffffff80;color:#fff}.form-control[_ngcontent-%COMP%]{background-color:#000;color:#fff}.form-control[_ngcontent-%COMP%]::placeholder{color:#ffffff80;opacity:1}.form-control[_ngcontent-%COMP%]:-ms-input-placeholder{color:#ffffff80}.form-control[_ngcontent-%COMP%]::-ms-input-placeholder{color:#ffffff80}.product-item[_ngcontent-%COMP%]{background-color:#13172a;border:1px solid rgb(35,39,61);border-radius:20px;padding:20px;margin-bottom:20px}.product-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{cursor:pointer}.product-image[_ngcontent-%COMP%]{width:100%;height:auto;margin-bottom:10px}.product-name[_ngcontent-%COMP%]{color:#fff}.product-description[_ngcontent-%COMP%]{color:#adb2cb}.product-warranty[_ngcontent-%COMP%]{color:#e942b2}.product-price[_ngcontent-%COMP%]{color:#fff}.product-rating[_ngcontent-%COMP%]{color:gold;margin-top:10px}.product-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:20px}.space-x[_ngcontent-%COMP%]{margin:0 5px}.page-number[_ngcontent-%COMP%]{cursor:pointer;padding:5px 10px;border:1px solid #ccc;margin:0 2px;border-radius:3px}.page-number.active[_ngcontent-%COMP%]{background-color:#7f44ff;color:#fff;border-color:#7f44ff}.btn-primary[_ngcontent-%COMP%]{background-color:#7f44ff;border-color:#7f44ff}.btn.btn-primary[_ngcontent-%COMP%]{margin-left:10px}"]})};var Q=class n{constructor(t,e){this.http=t;this.platformId=e}apiRegister=`${C.apiBaseUrl}/users/register`;apiLogin=`${C.apiBaseUrl}/users/login`;apiUserDetail=`${C.apiBaseUrl}/users/details`;apiConfig={headers:this.createHeaders()};createHeaders(){return new ht({"Content-Type":"application/json","Accept-Language":"vi"})}register(t){return this.http.post(this.apiRegister,t,this.apiConfig)}login(t){return this.http.post(this.apiLogin,t,this.apiConfig)}getUserDetail(t){return this.http.post(this.apiUserDetail,{headers:new ht({"content-Type":"application/json",Authorization:`Bearer ${t}`})})}updateUserDetail(t,e){debugger;let i=this.getUserResponseFromLocalStorage();return this.http.put(`${this.apiUserDetail}/${i?.id}`,e,{headers:new ht({"Content-Type":"application/json",Authorization:`Bearer ${t}`})})}saveUserResponseToLocalStorage(t){try{if(t==null||!t)return;let e=JSON.stringify(t);console.log(e,"userResponseJSON"),localStorage.setItem("user",e),console.log("User response saved to local Storage.")}catch(e){console.log("Error saved User response to local Storage:",e)}}getUserResponseFromLocalStorage(){if(Si(this.platformId))try{let t=localStorage.getItem("user");if(t==null||t==null)return null;let e=JSON.parse(t);return console.log("User response retrieved from local Storage."),e}catch(t){return console.log("Error retrieving User response from local Storage:",t),null}else return console.log("localStorage is not available on the server."),null}removeUserFromLocalStorage(){try{localStorage.removeItem("user"),console.log("user data removed from local storage.")}catch{console.error("Error removing user data from local storage.")}}static \u0275fac=function(e){return new(e||n)(F(z),F(gi))};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})};var G=class n{TOKEN_KEY="access_token";constructor(){}getToken(){debugger;return typeof window<"u"&&window.localStorage?localStorage.getItem(this.TOKEN_KEY):null}setToken(t){localStorage.setItem(this.TOKEN_KEY,t),console.log(localStorage,"local")}getUserId(){}removeToken(){localStorage.removeItem(this.TOKEN_KEY)}static \u0275fac=function(e){return new(e||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})};var Nt=class n{constructor(t){this.http=t}apiGetRoles=`${C.apiBaseUrl}/roles`;getRoles(){return this.http.get(this.apiGetRoles)}static \u0275fac=function(e){return new(e||n)(F(z))};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})};var dr=["loginForm"];function cr(n,t){n&1&&(s(0,"div",31),a(1," S\u1ED1 \u0111i\u1EC7n tho\u1EA1i l\xE0 b\u1EAFt bu\u1ED9c "),o())}function ur(n,t){n&1&&(s(0,"div",31),a(1," M\u1EADt kh\u1EA9u l\xE0 b\u1EAFt bu\u1ED9c "),o())}function mr(n,t){n&1&&(s(0,"div",31),a(1," M\u1EADt kh\u1EA9u ph\u1EA3i > 3 k\xFD t\u1EF1 "),o())}function pr(n,t){if(n&1&&(s(0,"option",32),a(1),o()),n&2){let e=t.$implicit;m("ngValue",e),d(),_(" ",e.name," ")}}function hr(n,t){if(n&1&&(s(0,"option",32),a(1),o()),n&2){let e=t.$implicit;m("ngValue",e),d(),_(" ",e.name," ")}}var Rt=class n{constructor(t,e,i,r){this.userService=t;this.router=e;this.tokenService=i;this.roleService=r}loginForm;phoneNumber="";password="";roleAuto=0;roles=[];rememberMe=!0;selectedRole;userResponse;showPassword=!1;ngOnInit(){this.roleService.getRoles().subscribe({next:t=>{this.roles=t,this.selectedRole=t.length>0?t[0]:void 0}})}onPhoneChange(){console.log("phone",this.phoneNumber)}fillAccount(t){if(t.target.value==="user"){this.phoneNumber="0988336554",this.password="123456aA@",this.roleAuto=1;return}this.phoneNumber="0981772415",this.password="123456",this.roleAuto=2}login(){if(this.loginForm.invalid)return;let t=`phone: ${this.phoneNumber}password: ${this.password}`,e={phone_number:this.phoneNumber,password:this.password,role_id:this.selectedRole?.id??this.roleAuto};console.log(e),this.roleAuto!=0&&(e.role_id=this.roleAuto),this.userService.login(e).subscribe({next:i=>{let{token:r}=i;this.rememberMe&&(this.tokenService.setToken(r),this.userService.getUserDetail(r).subscribe({next:l=>{debugger;this.userResponse=R(D({},l),{date_of_birth:new Date(l.date_of_birth)}),this.userService.saveUserResponseToLocalStorage(this.userResponse),this.userResponse?.role.name=="admin"?this.router.navigate(["/admin"]):this.userResponse?.role.name=="user"&&this.router.navigate(["/"])}}))},complete:()=>{},error:i=>{alert(`${i.error.message}`)}})}togglePasswordVisibility(){this.showPassword=!this.showPassword}static \u0275fac=function(e){return new(e||n)(u(Q),u(P),u(G),u(Nt))};static \u0275cmp=y({type:n,selectors:[["app-login"]],viewQuery:function(e,i){if(e&1&&lt(dr,5),e&2){let r;dt(r=ct())&&(i.loginForm=r.first)}},standalone:!0,features:[E],decls:50,vars:12,consts:[["loginForm","ngForm"],[1,"container"],[1,"row"],[1,"col-md-6","offset-md-3"],[1,"login-form","mx-auto"],[1,"login-header"],[3,"ngSubmit"],[1,"form-group"],["for","phoneNumber"],["type","text","id","phoneNumber","name","phone","required","",1,"form-control",3,"ngModelChange","input","focus","ngModel"],["class","text-danger",4,"ngIf"],[1,"divider-nospace"],[1,"mt-5"],[1,"form-group","password-field"],["for","password"],["placeholder","\xEDt nh\u1EA5t 3 k\xFD t\u1EF1","id","password","name","password","required","",1,"form-control",3,"ngModelChange","type","ngModel"],[3,"click"],[1,"form-check","checkbox-text"],[2,"display","flex"],["type","checkbox","id","remember","name","remember",1,"form-check-input",3,"ngModelChange","ngModel"],["for","remember",1,"form-check-label","text-start"],["href","#",1,"register-link"],[1,"row",2,"justify-content","space-evenly"],["name","remember",1,"form-control","access-right",3,"ngModelChange","ngModel"],["selected","","disabled",""],[3,"ngValue",4,"ngFor","ngForOf"],[1,"form-control","access-right",3,"change"],["type","submit",1,"login-button"],[1,"divider"],[1,"text-center"],["routerLink","/register",1,"register-link"],[1,"text-danger"],[3,"ngValue"]],template:function(e,i){if(e&1){let r=w();s(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"h2",5),a(5,"\u0110\u0103ng nh\u1EADp"),o(),s(6,"form",6,0),h("ngSubmit",function(){return g(r),f(i.login())}),s(8,"div",7)(9,"label",8),a(10,"S\u1ED1 \u0111i\u1EC7n tho\u1EA1i"),o(),s(11,"input",9),V("ngModelChange",function(c){return g(r),A(i.phoneNumber,c)||(i.phoneNumber=c),f(c)}),h("input",function(){return g(r),f(i.onPhoneChange())})("focus",function(){g(r);let c=re(7);return f(c.form.markAllAsTouched())}),o(),v(12,cr,2,0,"div",10),p(13,"div",11),o(),p(14,"div",12),s(15,"div",13)(16,"label",14),a(17,"M\u1EADt Kh\u1EA9u"),o(),s(18,"input",15),V("ngModelChange",function(c){return g(r),A(i.password,c)||(i.password=c),f(c)}),o(),s(19,"i",16),h("click",function(){return g(r),f(i.togglePasswordVisibility())}),o(),v(20,ur,2,0,"div",10)(21,mr,2,0,"div",10),p(22,"div",11),o(),s(23,"div",7)(24,"div",17)(25,"span",18)(26,"input",19),V("ngModelChange",function(c){return g(r),A(i.rememberMe,c)||(i.rememberMe=c),f(c)}),o(),s(27,"label",20),a(28," Ghi nh\u1EDB \u0111\u0103ng nh\u1EADp "),o()(),s(29,"a",21),a(30,"Qu\xEAn m\u1EADt kh\u1EA9u"),o()()(),s(31,"div",7)(32,"div",22)(33,"select",23),V("ngModelChange",function(c){return g(r),A(i.selectedRole,c)||(i.selectedRole=c),f(c)}),s(34,"option",24),a(35,"Quy\u1EC1n \u0111\u0103ng nh\u1EADp"),o(),v(36,pr,2,2,"option",25),o(),s(37,"select",26),h("change",function(c){return g(r),f(i.fillAccount(c))}),s(38,"option",24),a(39,"Ch\u1ECDn t\xE0i kho\u1EA3n test"),o(),v(40,hr,2,2,"option",25),o()()(),s(41,"button",27),a(42,"\u0110\u0103ng nh\u1EADp"),o(),p(43,"div",28),s(44,"p",29),a(45," B\u1EA1n ch\u01B0a \u0111\u0103ng k\xFD? "),s(46,"span")(47,"a",30),a(48,"T\u1EA1o t\xE0i kho\u1EA3n"),o()()()()()()()(),p(49,"app-footer")}if(e&2){let r=re(7);d(11),M("ngModel",i.phoneNumber),d(),m("ngIf",r.submitted&&!i.phoneNumber),d(6),m("type",i.showPassword?"text":"password"),M("ngModel",i.password),d(),at(i.showPassword?"password-toggle fas fa-eye":"password-toggle fas fa-eye-slash"),d(),m("ngIf",r.submitted&&!i.password),d(),m("ngIf",r.submitted&&i.password.length<3),d(5),M("ngModel",i.rememberMe),d(7),M("ngModel",i.selectedRole),d(3),m("ngForOf",i.roles),d(4),m("ngForOf",i.roles)}},dependencies:[k,N,me,pe,he,U,ze,ie,H,ue,Ee,Z,Ye,B,j,Pe],styles:[".container[_ngcontent-%COMP%]{color:#fff;height:80vh}.login-form[_ngcontent-%COMP%]{background-color:#13172a;border-radius:10px;padding:20px;max-width:500px;border:1px solid rgb(19,23,42);align-items:center;justify-content:center}.login-header[_ngcontent-%COMP%]{text-align:center;color:#69f4b5;margin-bottom:20px}.form-control[_ngcontent-%COMP%]{background-color:transparent;border:none;color:#fff}.form-control[_ngcontent-%COMP%]:focus{color:#fff;background-color:transparent;outline:none;border-color:transparent}.divider-nospace[_ngcontent-%COMP%]{border-top:1px solid white}.password-field[_ngcontent-%COMP%]{position:relative}.password-toggle[_ngcontent-%COMP%]{position:absolute;top:50%;right:10px;color:#69f4b5;cursor:pointer}.checkbox-text[_ngcontent-%COMP%]{color:#f3a52a;display:flex;justify-content:space-between;align-items:center;margin-top:10px}.checkbox-text[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked{border-color:#fff;background-color:#e942b2}.form-check-input[_ngcontent-%COMP%]{margin-right:5px}.register-link[_ngcontent-%COMP%]{color:#69f4b5;text-decoration:none}.access-right[_ngcontent-%COMP%]{margin-top:20px;width:200px;color:#fff;border:1px solid rgb(233,66,178)}.access-right[_ngcontent-%COMP%]:focus{border:1px solid rgb(233,66,178)}.access-right[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{color:#000}.form-control[_ngcontent-%COMP%]::placeholder{color:#f3a52a66;opacity:1}.form-control[_ngcontent-%COMP%]:-ms-input-placeholder{color:#f3a52a66}.login-button[_ngcontent-%COMP%]{background:linear-gradient(to right,#e942b2,#7f44ff);color:#fff;border-radius:30px;width:100%;padding:10px 0;margin-top:20px;border:none}.divider[_ngcontent-%COMP%]{height:1px;background-color:#f3a52a;margin:20px}"]})};var gr=["registerForm"];function fr(n,t){n&1&&(s(0,"div",33),a(1," S\u1ED1 \u0111i\u1EC7n tho\u1EA1i l\xE0 b\u1EAFt bu\u1ED9c "),o())}function _r(n,t){n&1&&(s(0,"div",33),a(1," S\u1ED1 \u0111i\u1EC7n tho\u1EA1i kh\xF4ng h\u1EE3p l\u1EC7 "),o())}function vr(n,t){n&1&&(s(0,"div",33),a(1," H\u1ECD t\xEAn l\xE0 b\u1EAFt bu\u1ED9c "),o())}function Cr(n,t){n&1&&(s(0,"div",33),a(1," M\u1EADt kh\u1EA9u ph\u1EA3i c\xF3 \xEDt nh\u1EA5t 3 k\xFD t\u1EF1 "),o())}function yr(n,t){n&1&&(s(0,"p",33),a(1," M\u1EADt kh\u1EA9u kh\xF4ng kh\u1EDBp "),o())}function br(n,t){n&1&&(s(0,"p",33),a(1," B\u1EA1n ch\u01B0a \u0111\u1EE7 18 tu\u1ED5i "),o())}var Tt=class n{constructor(t,e){this.userService=t;this.router=e;this.phoneNumber="",this.password="",this.retypePassword="",this.fullName="",this.address="",this.isAccepted=!1,this.dateOfBirth=null}registerForm;phoneNumber;password;retypePassword;fullName;address;isAccepted;dateOfBirth;showPassword=!1;onPhoneChange(){console.log("phone",this.phoneNumber)}register(){if(console.log(this.registerForm),this.checkPasswordsMatch(),this.registerForm.invalid){console.log(this.registerForm.invalid,"this.registerForm.invalid");return}if(!this.isAccepted){alert("B\u1EA1n ph\u1EA3i \u0111\u1ED3ng \xFD v\u1EDBi c\xE1c \u0111i\u1EC1u kho\u1EA3n v\xE0 \u0111i\u1EC1u ki\u1EC7n tr\u01B0\u1EDBc khi \u0111\u0103ng k\xFD.");return}let t={fullname:this.fullName,phone_number:this.phoneNumber,address:this.address,password:this.password,retype_password:this.retypePassword,date_of_birth:this.dateOfBirth||null,facebook_account_id:0,google_account_id:0,role_id:1};this.userService.register(t).subscribe({next:e=>{debugger;this.router.navigate(["/login"])},complete:()=>{debugger},error:e=>{debugger;alert(`${e.error.message}`)}})}checkPasswordsMatch(){this.password!==this.retypePassword?this.registerForm.form.controls.retypePassword.setErrors({passwordMisMatch:!0}):this.registerForm.form.controls.retypePassword.setErrors(null)}checkAge(){if(this.dateOfBirth){let t=new Date,e=new Date(this.dateOfBirth),i=t.getFullYear()-e.getFullYear(),r=t.getMonth()-e.getMonth();(r<0||r===0&&t.getDate()<e.getDate())&&(i--,console.log(i)),i<18?this.registerForm.form.controls.dateOfBirth.setErrors({invalidAge:!0}):this.registerForm.form.controls.dateOfBirth.setErrors(null)}}togglePasswordVisibility(){this.showPassword=!this.showPassword}static \u0275fac=function(e){return new(e||n)(u(Q),u(P))};static \u0275cmp=y({type:n,selectors:[["app-register"]],viewQuery:function(e,i){if(e&1&&lt(gr,5),e&2){let r;dt(r=ct())&&(i.registerForm=r.first)}},standalone:!0,features:[E],decls:65,vars:17,consts:[["registerForm","ngForm"],[1,"container"],[3,"ngSubmit"],[1,"row"],[1,"col-md-6","offset-md-3"],[1,"register-form","mx-auto"],[1,"register-header"],[1,"form-group"],["for","phoneNumber"],["type","text","id","phoneNumber","name","phone","required","",1,"form-control",3,"ngModelChange","input","focus","ngModel"],[1,"divider-nospace"],["class","text-danger",4,"ngIf"],[1,"mt-3"],["for","full-name"],["type","text","id","full-name","name","fullName","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-group","password-field"],["for","password"],["placeholder","\xEDt nh\u1EA5t 3 k\xFD t\u1EF1","id","password","name","password","required","",1,"form-control",3,"ngModelChange","focus","type","ngModel"],[3,"click"],["for","confirm-password"],["id","confirm-password","name","retypePassword","required","",1,"form-control",3,"ngModelChange","input","type","ngModel"],["for","date-of-birth"],["type","date","id","date-of-birth","name","dateOfBirth",1,"form-control",3,"ngModelChange","input","ngModel"],["for","address"],["type","text","id","address","name","address",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-check","checkbox-text"],[2,"display","flex"],["type","checkbox","id","agree","name","isAccepted",1,"form-check-input",3,"ngModelChange","ngModel"],["for","agree",1,"form-check-label","text-start"],["type","submit",1,"register-button"],[1,"divider"],[1,"text-center"],["href","#","routerLink","/login",1,"register-link"],[1,"text-danger"]],template:function(e,i){if(e&1){let r=w();s(0,"div",1)(1,"form",2,0),h("ngSubmit",function(){return g(r),f(i.register())}),s(3,"div",3)(4,"div",4)(5,"div",5)(6,"h2",6),a(7,"\u0110\u0103ng K\xFD"),o(),s(8,"div",7)(9,"label",8),a(10,"S\u1ED1 \u0111i\u1EC7n tho\u1EA1i"),o(),s(11,"input",9),V("ngModelChange",function(c){return g(r),A(i.phoneNumber,c)||(i.phoneNumber=c),f(c)}),h("input",function(){return g(r),f(i.onPhoneChange())})("focus",function(){g(r);let c=re(2);return f(c.form.markAllAsTouched())}),o(),p(12,"div",10),v(13,fr,2,0,"div",11)(14,_r,2,0,"div",11),o(),p(15,"div",12),s(16,"div",7)(17,"label",13),a(18,"H\u1ECD v\xE0 t\xEAn"),o(),s(19,"input",14),V("ngModelChange",function(c){return g(r),A(i.fullName,c)||(i.fullName=c),f(c)}),o(),p(20,"div",10),v(21,vr,2,0,"div",11),o(),p(22,"div",12),s(23,"div",15)(24,"label",16),a(25,"M\u1EADt Kh\u1EA9u"),o(),s(26,"input",17),V("ngModelChange",function(c){return g(r),A(i.password,c)||(i.password=c),f(c)}),h("focus",function(){g(r);let c=re(2);return f(c.form.markAllAsTouched())}),o(),s(27,"i",18),h("click",function(){return g(r),f(i.togglePasswordVisibility())}),o(),p(28,"div",10),v(29,Cr,2,0,"div",11),o(),p(30,"div",12),s(31,"div",15)(32,"label",19),a(33,"G\xF5 l\u1EA1i m\u1EADt Kh\u1EA9u"),o(),s(34,"input",20),V("ngModelChange",function(c){return g(r),A(i.retypePassword,c)||(i.retypePassword=c),f(c)}),h("input",function(){return g(r),re(2).form.markAllAsTouched(),f(i.checkPasswordsMatch())}),o(),p(35,"div",10),v(36,yr,2,0,"p",11),o(),p(37,"div",12),s(38,"div",15)(39,"label",21),a(40,"Ng\xE0y th\xE1ng n\u0103m sinh"),o(),s(41,"input",22),V("ngModelChange",function(c){return g(r),A(i.dateOfBirth,c)||(i.dateOfBirth=c),f(c)}),h("input",function(){return g(r),re(2).form.markAllAsTouched(),f(i.checkAge())}),o(),p(42,"div",10),v(43,br,2,0,"p",11),o(),p(44,"div",12),s(45,"div",7)(46,"label",23),a(47,"\u0110\u1ECBa ch\u1EC9"),o(),s(48,"input",24),V("ngModelChange",function(c){return g(r),A(i.address,c)||(i.address=c),f(c)}),o(),p(49,"div",10),o(),s(50,"div",7)(51,"div",25)(52,"span",26)(53,"input",27),V("ngModelChange",function(c){return g(r),A(i.isAccepted,c)||(i.isAccepted=c),f(c)}),o(),s(54,"label",28),a(55," T\xF4i \u0111\u1ED3ng \xFD v\u1EDBi c\xE1c \u0111i\u1EC1u kho\u1EA3n v\xE0 \u0111i\u1EC1u ki\u1EC7n "),o()()()(),s(56,"button",29),a(57,"\u0110\u0103ng k\xFD"),o(),p(58,"div",30),s(59,"p",31),a(60," B\u1EA1n \u0111\xE3 c\xF3 t\xE0i kho\u1EA3n? "),s(61,"span")(62,"a",32),a(63,"\u0110\u0103ng nh\u1EADp"),o()()()()()()()(),p(64,"app-footer")}if(e&2){let r=re(2);d(11),M("ngModel",i.phoneNumber),d(2),m("ngIf",r.submitted&&!i.phoneNumber),d(),m("ngIf",i.phoneNumber.length!=10&&r.form.touched),d(5),M("ngModel",i.fullName),d(2),m("ngIf",r.submitted&&!i.fullName),d(5),m("type",i.showPassword?"text":"password"),M("ngModel",i.password),d(),at(i.showPassword?"password-toggle fas fa-eye":"password-toggle fas fa-eye-slash"),d(2),m("ngIf",r.submitted&&i.password.length<3),d(5),m("type",i.showPassword?"text":"password"),M("ngModel",i.retypePassword),d(2),m("ngIf",(r.controls.retypePassword==null?null:r.controls.retypePassword.hasError("passwordMisMatch"))&&r.form.touched),d(5),M("ngModel",i.dateOfBirth),d(2),m("ngIf",(r.controls.dateOfBirth==null?null:r.controls.dateOfBirth.hasError("invalidAge"))&&r.form.touched),d(5),M("ngModel",i.address),d(5),M("ngModel",i.isAccepted)}},dependencies:[k,N,me,U,ze,H,ue,Ee,Z,Ye,j,Pe],styles:['@charset "UTF-8";.container[_ngcontent-%COMP%]{color:#fff;height:100vh}.register-form[_ngcontent-%COMP%]{background-color:#0c0c37;border-radius:10px;padding:20px;max-width:500px;border:1px solid rgb(32,34,60);align-items:center;justify-content:center;margin-top:50px}.register-header[_ngcontent-%COMP%]{text-align:center;color:#69f4b5;margin-bottom:20px}.form-control[_ngcontent-%COMP%]{background-color:transparent;border:none;color:#fff}.form-control[_ngcontent-%COMP%]:focus{color:#fff;background-color:transparent;outline:none;border-color:transparent}.form-group.password-field[_ngcontent-%COMP%]{position:relative}.divider-nospace[_ngcontent-%COMP%]{border-top:1px solid white}.password-field[_ngcontent-%COMP%]{position:relative}.password-toggle[_ngcontent-%COMP%]{position:absolute;top:50%;right:10px;transform:translateY(-50%);color:#69f4b5;cursor:pointer}.checkbox-text[_ngcontent-%COMP%]{color:#f3a52a;display:flex;justify-content:space-between;align-items:center;margin-top:10px}.checkbox-text[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked{border-color:#fff;background-color:#e942b2}.form-check-input[_ngcontent-%COMP%]{margin-right:5px}.register-link[_ngcontent-%COMP%]{color:#69f4b5;text-decoration:none}.access-right[_ngcontent-%COMP%]{margin-top:20px;width:200px;color:#fff;border:1px solid rgb(225,64,180)}.access-right[_ngcontent-%COMP%]:focus{border:1px solid rgb(225,64,180)}.form-control[_ngcontent-%COMP%]::placeholder{color:#f3a52a66;opacity:1}.form-control[_ngcontent-%COMP%]:-ms-input-placeholder{color:#f3a52a66}.register-button[_ngcontent-%COMP%]{background:linear-gradient(to right,#e942b2,#7e2bed);color:#fff;border-radius:30px;width:100%;padding:10px 0;margin-top:20px;border:none}.divider[_ngcontent-%COMP%]{height:1px;background-color:#f3a52a;margin:20px}.text-danger[_ngcontent-%COMP%]{margin-top:5px}input[type=date][_ngcontent-%COMP%]::-webkit-calendar-picker-indicator{filter:invert(80%) sepia(50%) saturate(250%) hue-rotate(90deg);width:20px;height:20px}']})};var ge=class n{constructor(t,e){this.http=t;this.productService=e;this.loadCartFromLocalStorage()}apiGetCart=`${C.apiBaseUrl}/cart`;cart=new Map;loadCartFromLocalStorage(){if(typeof localStorage<"u"){let t=localStorage.getItem("cart");if(t)try{let e=JSON.parse(t);this.cart=new Map(e)}catch(e){console.error("Error parsing cart data from localStorage:",e)}}else console.error("localStorage is not available.")}addToCart(t,e=1){debugger;this.cart.has(t)?this.cart.set(t,this.cart.get(t)+e):this.cart.set(t,e),this.saveCartTolocalStorage()}getCart(){return this.cart}saveCartTolocalStorage(){debugger;localStorage.setItem("cart",JSON.stringify(Array.from(this.cart.entries())))}clearCart(){this.cart.clear(),this.saveCartTolocalStorage()}static \u0275fac=function(e){return new(e||n)(F(z),F(K))};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})};var pn=n=>({active:n});function Er(n,t){if(n&1&&(s(0,"div",22)(1,"div",23),p(2,"img",24),o()()),n&2){let e=t.$implicit,i=t.index,r=S();m("ngClass",ve(2,pn,i===r.currentImageIndex)),d(2),m("src",e.image_url,ne)}}function Sr(n,t){if(n&1){let e=w();s(0,"div",25),h("click",function(){let r=g(e).index,l=S();return f(l.thumbnailClick(r))}),p(1,"img",26),o()}if(n&2){let e=t.$implicit,i=t.index,r=S();m("ngClass",ve(2,pn,i===r.currentImageIndex)),d(),m("src",e.image_url,ne)}}var Bt=class n{constructor(t,e,i,r){this.productService=t;this.cartService=e;this.router=i;this.route=r}product;productId=0;currentImageIndex=0;quantity=1;ngOnInit(){this.route.paramMap.subscribe(e=>{this.productId=+e.get("id")});let t=this.productId;t!==null&&(this.productId=+t),isNaN(this.productId)?console.error("Invalid productId",t):this.productService.getDetailProduct(this.productId).subscribe({next:e=>{console.log(e),e.product_images&&e.product_images.length>0&&e.product_images.forEach(i=>{i.image_url.startsWith(`${C.apiBaseUrl}/products/images/`)||(i.image_url=`${C.apiBaseUrl}/products/images/${i.image_url}`)}),this.product=e,this.showImage(0)},complete:()=>{},error:e=>{console.error("Error fetching detail:",e)}})}showImage(t){this.product&&this.product.product_images&&this.product.product_images.length>0&&(t<0?t=0:t>=this.product.product_images.length&&(t=this.product.product_images.length-1),this.currentImageIndex=t)}thumbnailClick(t){this.currentImageIndex=t}nextImage(){this.showImage(this.currentImageIndex+1)}previousImage(){this.showImage(this.currentImageIndex-1)}addToCart(){debugger;this.product?this.cartService.addToCart(this.product.id,this.quantity):console.error("Kh\xF4ng th\u1EC3 th\xEAm s\u1EA3n ph\u1EA9m v\xE0o gi\u1ECF h\xE0ng v\xEC product l\xE0 null.")}increaseQuantity(){this.quantity++}decreaseQuantity(){this.quantity>1&&this.quantity--}buyNow(){this.router.navigate(["/orders"])}static \u0275fac=function(e){return new(e||n)(u(K),u(ge),u(P),u(gt))};static \u0275cmp=y({type:n,selectors:[["app-detail-product"]],standalone:!0,features:[E],decls:43,vars:6,consts:[[1,"container"],[1,"intro-section"],[1,"row"],[1,"col-md-6"],["id","carouselExample","data-bs-ride","carousel",1,"carousel","slide"],[1,"carousel-inner"],["class","carousel-item",3,"ngClass",4,"ngFor","ngForOf"],["type","button","data-bs-target","#carouselExample","data-bs-slide","prev",1,"carousel-control-prev",3,"click"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button","data-bs-target","#carouselExample","data-bs-slide","next",1,"carousel-control-next",3,"click"],["aria-hidden","true",1,"carousel-control-next-icon"],[1,"thumbnail-container"],["class","thumbnail-item",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"product-details"],[1,"product-actions"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-success",3,"click"],[1,"product-quantity"],[1,"border-wrapper"],[3,"click"],["type","text",3,"value"],[1,"carousel-item",3,"ngClass"],[1,"square-image"],["alt","Product Image",1,"product-image",3,"src"],[1,"thumbnail-item",3,"click","ngClass"],["alt","Thumbnail Image",1,"thumbnail-image",3,"src"]],template:function(e,i){e&1&&(s(0,"div",0)(1,"div",1)(2,"h1"),a(3,"\u0110\xE2y l\xE0 trang chi ti\u1EBFt s\u1EA3n ph\u1EA9m"),o(),s(4,"p"),a(5,"S\u1EED d\u1EE5ng Bootstrap"),o()(),s(6,"div",2)(7,"div",3)(8,"div",4)(9,"div",5),v(10,Er,3,4,"div",6),o(),s(11,"button",7),h("click",function(){return i.previousImage()}),p(12,"span",8),s(13,"span",9),a(14,"Previous"),o()(),s(15,"button",10),h("click",function(){return i.nextImage()}),p(16,"span",11),s(17,"span",9),a(18,"Next"),o()()(),s(19,"div",2)(20,"div",12),v(21,Sr,2,4,"div",13),o()()(),s(22,"div",3)(23,"div",14)(24,"h2"),a(25),o(),s(26,"p"),a(27),o(),s(28,"p"),a(29),o(),s(30,"div",15)(31,"button",16),h("click",function(){return i.addToCart()}),a(32," Th\xEAm v\xE0o gi\u1ECF h\xE0ng "),o(),s(33,"button",17),h("click",function(){return i.buyNow()}),a(34,"Mua ngay"),o()(),s(35,"div",18)(36,"div",19)(37,"button",20),h("click",function(){return i.decreaseQuantity()}),a(38,"-"),o(),p(39,"input",21),s(40,"button",20),h("click",function(){return i.increaseQuantity()}),a(41,"+"),o()()()()()()(),p(42,"app-footer")),e&2&&(d(10),m("ngForOf",i.product==null?null:i.product.product_images),d(11),m("ngForOf",i.product==null?null:i.product.product_images),d(4),b(i.product==null?null:i.product.name),d(2),b(i.product==null?null:i.product.description),d(2),_("Gi\xE1: $",i.product==null?null:i.product.price,""),d(10),m("value",i.quantity))},dependencies:[k,B,Ve],styles:[".container[_ngcontent-%COMP%]{color:#fff}.intro-section[_ngcontent-%COMP%]{color:#fff;padding:20px;text-align:center}.thumbnail-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:20px;margin-bottom:20px}.thumbnail-item[_ngcontent-%COMP%]{width:120px;height:120px;margin-right:5px}.thumbnail-item[_ngcontent-%COMP%]:last-child{margin-right:0}.thumbnail-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.thumbnail-item.active[_ngcontent-%COMP%]{border:2px solid white}.product-item[_ngcontent-%COMP%]{background-color:#13172a;border:1px solid rgb(35,39,61);border-radius:20px;padding:20px;margin-bottom:20px;color:#fff}.product-description[_ngcontent-%COMP%]{color:#adbbcb}.product-warranty[_ngcontent-%COMP%]{color:#f27ed4}.product-rating[_ngcontent-%COMP%]{color:gold;margin-top:10px}.product-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;margin-top:20px}.space-x[_ngcontent-%COMP%]{margin:0 5px}.product-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.product-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:10px}.border-wrapper[_ngcontent-%COMP%]{border:1px solid white}.product-quantity[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start;margin-top:10px}.product-quantity[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:transparent;border:none;color:#fff;font-size:16px;cursor:pointer}.product-quantity[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background-color:transparent;border:none;color:#fff;font-size:16px;text-align:center;width:40px;margin:0 10px}.product-quantity[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none}"]})};var Y=class n{constructor(t){this.http=t}apiUrl=`${C.apiBaseUrl}/orders`;apiGetAllOrders=`${C.apiBaseUrl}/orders/get-orders-by-keyword`;placeOrder(t){return this.http.post(this.apiUrl,t)}getOrderById(t){let e=`${C.apiBaseUrl}/orders/${t}`;return this.http.get(e)}getAllOrders(t,e,i){let r=new ye().set("keyword",t).set("page",e.toString()).set("limit",i.toString());return this.http.get(this.apiGetAllOrders,{params:r})}updateOrder(t,e){let i=`${C.apiBaseUrl}/orders/${t}`;return this.http.put(i,e)}deleteOrder(t){let e=`${C.apiBaseUrl}/orders/${t}`;return this.http.delete(e,{responseType:"text"})}static \u0275fac=function(e){return new(e||n)(F(z))};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})};function xr(n,t){n&1&&(s(0,"div",36),a(1," H\u1ECD v\xE0 t\xEAn l\xE0 tr\u01B0\u1EDDng b\u1EAFt bu\u1ED9c. "),o())}function Dr(n,t){if(n&1&&(s(0,"div",36),a(1),o()),n&2){let e=S();d(),_(" ",e.orderForm.get("email").hasError("email")?"Email kh\xF4ng h\u1EE3p l\u1EC7":"Email l\xE0 tr\u01B0\u1EDDng b\u1EAFt bu\u1ED9c"," ")}}function wr(n,t){n&1&&(s(0,"div",36),a(1," S\u1ED1 \u0111i\u1EC7n tho\u1EA1i l\xE0 tr\u01B0\u1EDDng b\u1EAFt bu\u1ED9c v\xE0 \xEDt nh\u1EA5t 6 k\xFD t\u1EF1. "),o())}function Mr(n,t){n&1&&(s(0,"div",36),a(1," \u0110\u1ECBa ch\u1EC9 l\xE0 tr\u01B0\u1EDDng b\u1EAFt bu\u1ED9c v\xE0 \xEDt nh\u1EA5t 5 k\xFD t\u1EF1. "),o())}function Ar(n,t){if(n&1&&(we(0),s(1,"tr")(2,"td")(3,"div",37),p(4,"img",38),s(5,"span",39),a(6),o()()(),s(7,"td"),a(8),o(),s(9,"td"),a(10),J(11,"number"),o(),s(12,"td"),a(13),J(14,"number"),o()(),Me()),n&2){let e=t.$implicit;d(4),m("src",e.product.thumbnail,ne),d(2),b(e.product.name),d(2),b(e.quantity),d(2),_(" ",Ce(11,5,e.product.price,"1.2-2")," "),d(3),_(" ",Ce(14,8,e.product.price*e.quantity,"1.2-2")," ")}}var jt=class n{constructor(t,e,i,r,l,c){this.cartService=t;this.productService=e;this.fb=i;this.orderService=r;this.tokenService=l;this.router=c;this.orderForm=this.fb.group({fullname:["",$.required],email:["",[$.email]],phone_number:["",[$.required,$.minLength(6)]],address:["",[$.required,$.minLength(5)]],note:[""],shipping_method:[""],payment_method:[""]})}orderForm;cartItems=[];totalAmount=0;couponCode="";orderData={user_id:"2",fullname:"",email:"",phone_number:"",address:"",note:"",total_money:0,payment_method:"cod",shipping_method:"express",coupon_code:"",cart_items:[]};ngOnInit(){let t=this.tokenService.getUserId(),e=this.cartService.getCart(),i=Array.from(e.keys());debugger;i.length!==0&&this.productService.getProductsByIds(i).subscribe({next:r=>{debugger;this.cartItems=i.map(l=>{let c=r.find(T=>T.id===l);return c&&(c.thumbnail=`${C.apiBaseUrl}/products/images/${c.thumbnail}`),{product:c,quantity:e.get(l)}})},complete:()=>{debugger;this.calculateTotal()},error:r=>{console.error("Error fetching detail:",r)}})}calculateTotal(){this.totalAmount=this.cartItems.reduce((t,e)=>t+e.product.price*e.quantity,0)}placeOrder(){debugger;this.orderForm.valid?(this.orderData=D(D({},this.orderData),this.orderForm.value),this.orderData.cart_items=this.cartItems.map(t=>({product_id:t.product.id,quantity:t.quantity})),this.orderService.placeOrder(this.orderData).subscribe({next:t=>{debugger;console.log("\u0110\u1EB7t h\xE0ng th\xE0nh c\xF4ng"),this.cartService.clearCart(),this.router.navigate(["/orders/",t.id])},complete:()=>{this.calculateTotal()},error:t=>{debugger;console.error("L\u1ED7i khi \u0111\u1EB7t h\xE0ng:",t)}})):alert("D\u1EEF li\u1EC7u kh\xF4ng h\u1EE3p l\u1EC7. Vui l\xF2ng ki\u1EC3m tra l\u1EA1i.")}static \u0275fac=function(e){return new(e||n)(u(ge),u(K),u(Ot),u(Y),u(G),u(P))};static \u0275cmp=y({type:n,selectors:[["app-order"]],standalone:!0,features:[E],decls:82,vars:18,consts:[[1,"container"],[1,"intro-section"],[1,"row"],[1,"col-md-6"],[1,"product-header"],[3,"formGroup"],[1,"mb-3"],["for","fullname",1,"form-label"],["type","text","id","fullname","formControlName","fullname",1,"form-control"],["class","invalid-feedback",4,"ngIf"],["for","email",1,"form-label"],["type","text","id","email","formControlName","email",1,"form-control"],["for","phone",1,"form-label"],["type","text","id","phone","formControlName","phone_number","placeholder","S\u1ED1 \u0111i\u1EC7n tho\u1EA1i","required","",1,"form-control"],["for","address",1,"form-label"],["type","text","id","address","formControlName","address","placeholder","\u0110\u1ECBa ch\u1EC9","required","",1,"form-control"],["type","text","id","note","formControlName","note","placeholder","Ghi ch\xFA","required","",1,"form-control"],["for","shippingMethod"],["id","shippingMethod","formControlName","shipping_method",1,"form-control"],["value","express"],["value","normal"],["for","paymentMethod"],["id","paymentMethod","formControlName","payment_method",1,"form-control"],["value","cod"],["value","other"],[1,"product-order"],["scope","col",1,"text-start"],["scope","col"],[4,"ngFor","ngForOf"],[1,"text-start","mt-3"],[1,"header-text","text-end"],[1,"mt-3"],[1,"input-group"],["type","text","placeholder","Nh\u1EADp coupon",1,"form-control"],["type","button",1,"btn","btn-gradient"],["type","button",1,"btn","btn-gradient",3,"click"],[1,"invalid-feedback"],[1,"product-info"],["alt","Product Image",1,"product-image",3,"src"],[1,"product-name"]],template:function(e,i){e&1&&(s(0,"div",0)(1,"div",1)(2,"h1"),a(3,"\u0111\xE2y l\xE0 trang order"),o(),s(4,"p"),a(5,"s\u1EED d\u1EE5ng bootstrap"),o()(),s(6,"div",2)(7,"div",3)(8,"h2",4),a(9,"th\xF4ng tin ng\u01B0\u1EDDi nh\u1EADn"),o(),s(10,"form",5)(11,"div",6)(12,"label",7),a(13,"H\u1ECD v\xE0 t\xEAn"),o(),p(14,"input",8),v(15,xr,2,0,"div",9),o(),s(16,"div",6)(17,"label",10),a(18,"Email"),o(),p(19,"input",11),v(20,Dr,2,1,"div",9),o(),s(21,"div",6)(22,"label",12),a(23,"S\u1ED1 \u0111i\u1EC7n tho\u1EA1i"),o(),p(24,"input",13),v(25,wr,2,0,"div",9),o(),s(26,"div",6)(27,"label",14),a(28,"\u0110\u1ECBa ch\u1EC9"),o(),p(29,"input",15),v(30,Mr,2,0,"div",9),o(),s(31,"div",6)(32,"label",14),a(33,"Ghi ch\xFA"),o(),p(34,"input",16),o(),s(35,"div",6)(36,"label",17),a(37,"Ph\u01B0\u01A1ng th\u1EE9c v\u1EADn chuy\u1EC3n"),o(),s(38,"select",18)(39,"option",19),a(40,"Nhanh (Express)"),o(),s(41,"option",20),a(42,"Th\u01B0\u1EDDng (Normal)"),o()()(),s(43,"div",6)(44,"label",21),a(45,"Ph\u01B0\u01A1ng th\u1EE9c thanh to\xE1n"),o(),s(46,"select",22)(47,"option",23),a(48,"Thanh to\xE1n khi nh\u1EADn h\xE0ng (COD)"),o(),s(49,"option",24),a(50,"Thanh to\xE1n kh\xE1c"),o()()()()(),s(51,"div",3)(52,"h2",25),a(53,"S\u1EA3n ph\u1EA9m \u0111\xE3 \u0111\u1EB7t h\xE0ng"),o(),s(54,"table")(55,"thead")(56,"tr")(57,"th",26),a(58,"S\u1EA3n ph\u1EA9m"),o(),s(59,"th",27),a(60,"S\u1ED1 l\u01B0\u1EE3ng"),o(),s(61,"th",27),a(62,"\u0110\u01A1n gi\xE1"),o(),s(63,"th",27),a(64,"T\u1ED5ng gi\xE1"),o()()(),s(65,"tbody"),v(66,Ar,15,11,"ng-container",28),o()(),s(67,"div",29)(68,"h4",30),a(69),J(70,"number"),o()(),s(71,"div",31)(72,"h4",4),a(73,"Nh\u1EADp coupon"),o(),s(74,"div",32),p(75,"input",33),s(76,"button",34),a(77,"\xC1p d\u1EE5ng"),o()()(),s(78,"div",29)(79,"button",35),h("click",function(){return i.placeOrder()}),a(80," \u0110\u1EB7t h\xE0ng "),o()()()()(),p(81,"app-footer")),e&2&&(d(10),m("formGroup",i.orderForm),d(4),ee("is-invalid",i.orderForm.get("fullname").invalid&&i.orderForm.get("fullname").touched),d(),m("ngIf",i.orderForm.get("fullname").invalid&&i.orderForm.get("fullname").touched),d(4),ee("is-invalid",i.orderForm.get("email").invalid&&i.orderForm.get("email").touched),d(),m("ngIf",i.orderForm.get("email").invalid&&i.orderForm.get("email").touched),d(4),ee("is-invalid",i.orderForm.get("phone_number").invalid&&i.orderForm.get("phone_number").touched),d(),m("ngIf",i.orderForm.get("phone_number").invalid&&i.orderForm.get("phone_number").touched),d(4),ee("is-invalid",i.orderForm.get("address").invalid&&i.orderForm.get("address").touched),d(),m("ngIf",i.orderForm.get("address").invalid&&i.orderForm.get("address").touched),d(36),m("ngForOf",i.cartItems),d(3),_(" T\u1ED5ng gi\xE1: ",Ce(70,15,i.totalAmount,"1.2-2")," "))},dependencies:[k,q,B,j,pt,N,me,pe,he,U,ie,H,ue,Ee,Ft,Je,Ze],styles:[".container[_ngcontent-%COMP%]{color:#fff}.intro-section[_ngcontent-%COMP%]{color:#fff;padding:20px;text-align:center}.product-header[_ngcontent-%COMP%]{color:#e942b2}.product-order[_ngcontent-%COMP%]{color:green}.form-control[_ngcontent-%COMP%]{background-color:#13172a;border:1px solid rgb(29,33,54);color:#fff}.form-control[_ngcontent-%COMP%]:focus{border-color:#fff;background-color:#13172a}.form-label[_ngcontent-%COMP%]{color:#fff}table[_ngcontent-%COMP%]{width:100%;border-radius:10px;border:none;border-collapse:separate;border:1px solid white;border-spacing:0;background-color:#13172a}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:10px;text-align:center}.product-image[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:5px;margin-right:10px}.product-info[_ngcontent-%COMP%]{display:flex;align-items:center}.product-name[_ngcontent-%COMP%]{color:#fff;margin-right:10px}.btn-gradient[_ngcontent-%COMP%]{background:linear-gradient(to right,#e942b2,#7f44ff);color:#fff;border-radius:30px;width:200px}"]})};function Vr(n,t){if(n&1&&(s(0,"tr")(1,"td")(2,"div",12),p(3,"img",13),s(4,"span",14),a(5),o()()(),s(6,"td"),a(7),o(),s(8,"td"),a(9),J(10,"number"),o(),s(11,"td"),a(12),J(13,"number"),o()()),n&2){let e=t.$implicit;d(3),m("src",e.product.thumbnail,ne),d(2),_("",e.product.name," "),d(2),b(e.number_of_products),d(2),b(Ce(10,5,e.price,"1.2-2")),d(3),b(Ce(13,8,e.total_money,"1.2-2"))}}function Pr(n,t){if(n&1&&(s(0,"div",3)(1,"div",4)(2,"h2",5),a(3,"Th\xF4ng tin ng\u01B0\u1EDDi nh\u1EADn"),o(),s(4,"div",6)(5,"p",7),a(6),o()(),s(7,"div",6)(8,"p",7),a(9),o()(),s(10,"div",6)(11,"p",7),a(12),o()(),s(13,"div",6)(14,"p",7),a(15),o()(),s(16,"div",6)(17,"p",7),a(18),o()(),s(19,"div",6)(20,"p",7),a(21),o()(),s(22,"div",6)(23,"p",7),a(24),o()()(),s(25,"div",4)(26,"h2",8),a(27,"S\u1EA3n ph\u1EA9m \u0111\u1EB7t h\xE0ng"),o(),s(28,"table")(29,"thead")(30,"tr")(31,"th",9),a(32,"S\u1EA3n ph\u1EA9m"),o(),s(33,"th",10),a(34,"s\u1ED1 l\u01B0\u1EE3ng"),o(),s(35,"th",10),a(36,"\u0110\u01A1n gi\xE1"),o(),s(37,"th",10),a(38,"T\u1ED5ng gi\xE1"),o()()(),s(39,"tbody"),v(40,Vr,14,11,"tr",11),o()()()()),n&2){let e=S();d(6),_("H\u1ECD v\xE0 t\xEAn: ",e.orderResponse.fullname,""),d(3),_("Email: ",e.orderResponse.email,""),d(3),_(" S\u1ED1 \u0111i\u1EC7n tho\u1EA1i: ",e.orderResponse.phone_number," "),d(3),_("D\u1ECBa ch\u1EC9: ",e.orderResponse.address,""),d(3),_("Ghi ch\xFA: ",e.orderResponse.note,""),d(3),_(" Ph\u01B0\u01A1ng th\u1EE9c v\u1EADn chuy\u1EC3n: ",e.orderResponse.shipping_method," "),d(3),_(" Ph\u01B0\u01A1ng th\u1EE9c thanh to\xE1n: ",e.orderResponse.payment_method," "),d(16),m("ngForOf",e.orderResponse.order_details)}}var Ht=class n{constructor(t){this.orderService=t}orderResponse={id:0,user_id:0,fullname:"",phone_number:"",email:"",address:"",note:"",order_date:new Date,status:"",total_money:0,shipping_method:"",shipping_address:"",shipping_date:new Date,payment_method:"",order_details:[]};ngOnInit(){this.getOrderDetails()}getOrderDetails(){this.orderService.getOrderById(11).subscribe({next:e=>{this.orderResponse.id=e.id,this.orderResponse.user_id=e.user_id,this.orderResponse.fullname=e.fullname,this.orderResponse.email=e.email,this.orderResponse.phone_number=e.phone_number,this.orderResponse.address=e.address,this.orderResponse.note=e.note,this.orderResponse.order_date=new Date(e.order_date[0],e.order_date[1]-1,e.order_date[2]);debugger;this.orderResponse.order_details=e.order_details.map(i=>(i.product.thumbnail=`${C.apiBaseUrl}/products/images/${i.product.thumbnail}`,i)),this.orderResponse,this.orderResponse.shipping_method=e.shipping_method,this.orderResponse.status=e.status,this.orderResponse.total_money=e.total_money},complete:()=>{debugger},error:e=>{console.error("error",e)}})}static \u0275fac=function(e){return new(e||n)(u(Y))};static \u0275cmp=y({type:n,selectors:[["app-order-detail"]],standalone:!0,features:[E],decls:8,vars:1,consts:[[1,"container"],[1,"intro-section"],["class","row",4,"ngIf"],[1,"row"],[1,"col-md-6"],[1,"product-header"],[1,"mb-3"],[1,"form-label"],[1,"product_order"],["scope","col",1,"text_start"],["scope","col"],[4,"ngFor","ngForOf"],[1,"product-info"],["alt","product Image",1,"product-image",3,"src"],[1,"product-name"]],template:function(e,i){e&1&&(s(0,"div",0)(1,"div",1)(2,"h1"),a(3,"Chi ti\u1EBFt \u0111\u01A1n h\xE0ng"),o(),s(4,"p"),a(5,"xem th\xF4ng tin chi ti\u1EBFt \u0111\u01A1n h\xE0ng"),o()(),v(6,Pr,41,8,"div",2),o(),p(7,"app-footer")),e&2&&(d(6),m("ngIf",i.orderResponse))},dependencies:[k,j,B,N,q,pt],styles:[".container[_ngcontent-%COMP%]{color:#fff}.confirmation-container[_ngcontent-%COMP%]{margin:50px auto;padding:20px;max-width:600px;border-radius:10px;box-shadow:0 0 5px #ffffff1a}.product-image[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:5px;margin-right:10px}.product-info[_ngcontent-%COMP%]{display:flex;align-items:center}.product-name[_ngcontent-%COMP%]{color:#fff;margin-right:10px}table[_ngcontent-%COMP%]{width:100%;border-radius:10px;border:none;border-collapse:separate;border:1px solid white;border-spacing:0;background-color:#13172a}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:10px;text-align:center}.btn-gradient[_ngcontent-%COMP%]{background:linear-gradient(to right,#e942b2,#7f44ff);color:#fff;border-radius:30px;width:200px}"]})};var di=class n{constructor(t,e,i){this.tokenService=t;this.router=e;this.userService=i}userResponse;canActivate(t,e){debugger;this.userResponse=this.userService.getUserResponseFromLocalStorage();let i=this.userResponse?.role.name=="admin";return!1}static \u0275fac=function(e){return new(e||n)(F(G),F(P),F(Q))};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})},Gt=(n,t)=>{debugger;return Te(di).canActivate(n,t)};function Or(n,t){n&1&&(s(0,"div",17),a(1," H\u1ECD v\xE0 t\xEAn l\xE0 tr\u01B0\u1EDDng b\u1EAFt bu\u1ED9c. "),o())}var Lt=class n{constructor(t,e,i,r,l,c,T){this.cartService=t;this.productService=e;this.fb=i;this.orderService=r;this.userService=l;this.tokenService=c;this.router=T;this.userProfileForm=this.fb.group({fullname:[""],address:["",[$.minLength(3)]],password:["",[$.minLength(3)]],retype_password:["",[$.minLength(3)]],date_of_birth:[""]},{})}userProfileForm;userResponse;token="";ngOnInit(){this.token=this.tokenService.getToken()??"",this.userService.getUserDetail(this.token).subscribe({next:t=>{debugger;let e=new Date(t.date_of_birth),i=new Date(e.getTime()-e.getTimezoneOffset()*6e4);this.userResponse=R(D({},t),{date_of_birth:isNaN(i.getTime())?null:i}),this.userProfileForm.patchValue({fullname:t?.fullname??"",address:t?.address??"",date_of_birth:this.userResponse?.date_of_birth?this.userResponse.date_of_birth.toISOString().substring(0,10):null}),this.userService.saveUserResponseToLocalStorage(this.userResponse)},complete:()=>{debugger},error:t=>{debugger;alert(t.error.message)}})}save(){debugger;if(this.userProfileForm.valid){let t={fullname:this.userProfileForm.get("fullname")?.value,address:this.userProfileForm.get("address")?.value,password:this.userProfileForm.get("password")?.value,retype_password:this.userProfileForm.get("retype_password")?.value,date_of_birth:this.userProfileForm.get("date_of_birth")?.value};this.userService.updateUserDetail(this.token,t).subscribe({next:e=>{debugger;this.userService.removeUserFromLocalStorage(),this.tokenService.removeToken(),this.router.navigate(["/login"])},error:e=>{alert(e.error.message)}})}else this.userProfileForm.hasError("passwordMismatch")&&alert("M\u1EADt kh\u1EA9u v\xE0 m\u1EADt kh\u1EA9u g\xF5 l\u1EA1i ch\u01B0a ch\xEDnh x\xE1c")}static \u0275fac=function(e){return new(e||n)(u(ge),u(K),u(Ot),u(Y),u(Q),u(G),u(P))};static \u0275cmp=y({type:n,selectors:[["app-user-profile"]],standalone:!0,features:[E],decls:30,vars:4,consts:[[3,"formGroup"],[1,"row"],[1,"col-md-3","mx-auto"],[1,"product-header"],[1,"mb-3"],["for","fullname",1,"form-label"],["type","text","id","fullname","formControlName","fullname",1,"form-control"],["class","invalid-feedback",4,"ngIf"],["for","password",1,"form-label"],["type","text","id","password","formControlName","password",1,"form-control"],["for","retype_password",1,"form-label"],["type","text","id","retype_password","formControlName","retype_password",1,"form-control"],["for","address",1,"form-label"],["type","text","id","address","formControlName","address",1,"form-control"],["for","date_of_birth",1,"form-label"],["type","date","id","date_of_birth","formControlName","date_of_birth",1,"form-control"],[1,"btn","btn-primary",3,"click"],[1,"invalid-feedback"]],template:function(e,i){e&1&&(s(0,"form",0)(1,"div",1)(2,"div",2)(3,"h2",3),a(4,"Th\xF4ng tin t\xE0i kho\u1EA3n"),o(),s(5,"div",4)(6,"label",5),a(7,"H\u1ECD v\xE0 t\xEAn"),o(),p(8,"input",6),v(9,Or,2,0,"div",7),o(),s(10,"div",4)(11,"label",8),a(12,"M\u1EADt kh\u1EA9u"),o(),p(13,"input",9),o(),s(14,"div",4)(15,"label",10),a(16,"Nh\u1EADp l\u1EA1i m\u1EADt kh\u1EA9u"),o(),p(17,"input",11),o(),s(18,"div",4)(19,"label",12),a(20,"\u0110\u1ECBa ch\u1EC9"),o(),p(21,"input",13),o(),s(22,"div",4)(23,"label",14),a(24,"Ng\xE0y sinh"),o(),p(25,"input",15),o(),s(26,"div",4)(27,"button",16),h("click",function(){return i.save()}),a(28,"L\u01B0u thay \u0111\u1ED5i"),o()()()()(),p(29,"app-footer")),e&2&&(m("formGroup",i.userProfileForm),d(8),ee("is-invalid",i.userProfileForm.get("fullname").invalid&&i.userProfileForm.get("fullname").touched),d(),m("ngIf",i.userProfileForm.get("fullname").invalid&&i.userProfileForm.get("fullname").touched))},dependencies:[k,q,j,N,me,U,H,ue,Ft,Je,Ze],styles:[".container[_ngcontent-%COMP%]{color:#fff}.intro-section[_ngcontent-%COMP%]{color:#fff;padding:20px;text-align:center}.product-header[_ngcontent-%COMP%]{color:#e942b2}.product-order[_ngcontent-%COMP%]{color:green}.form-control[_ngcontent-%COMP%]{background-color:#13172a;border:1px solid rgb(29,33,54);color:#fff}.form-control[_ngcontent-%COMP%]:focus{border-color:#fff;background-color:#13172a}.form-label[_ngcontent-%COMP%]{color:#fff}"]})};var Re=class n{constructor(t,e,i){this.userService=t;this.tokenService=e;this.router=i}adminComponent="orders";userResponse;ngOnInit(){this.userResponse=this.userService.getUserResponseFromLocalStorage();debugger;this.router.url==="/admin"&&this.router.navigate(["/admin/orders"])}logout(){this.userService.removeUserFromLocalStorage(),this.tokenService.removeToken(),this.userResponse=this.userService.getUserResponseFromLocalStorage()}showAdminComponent(t){debugger;t==="orders"?this.router.navigate(["/admin/orders"]):t==="categories"?this.router.navigate(["/admin/categories"]):t==="products"?this.router.navigate(["/admin/products"]):t==="users"&&this.router.navigate(["/admin/users"])}static \u0275fac=function(e){return new(e||n)(u(Q),u(G),u(P))};static \u0275cmp=y({type:n,selectors:[["app-admin"]],standalone:!0,features:[E],decls:28,vars:0,consts:[[1,"container-fluid"],[1,"header","bg-success","text-white","d-flex","justify-content-between"],[1,"header-title"],[1,"btn","btn-danger","btn-sm",3,"click"],[1,"row"],["id","sidebar",1,"col-md-2","col-lg-2","d-md-block","bg-light","sidebar"],[1,"position-sticky"],[1,"nav","flex-column"],[1,"nav-item"],["routerLink","/admin/orders","routerLinkActive","active",1,"nav-link",3,"click"],[1,"fab","fa-first-order","icon"],["routerLink","/admin/categories","routerLinkActive","active",1,"nav-link",3,"click"],[1,"fab","fa-canadian-maple-leaf","icon"],["routerLink","/admin/products","routerLinkActive","active",1,"nav-link",3,"click"],[1,"fab","fa-codepen","icon"],["routerLink","/admin/users","routerLinkActive","active",1,"nav-link",3,"click"],[1,"col-md-10","col-lg-10","overflow-auto"]],template:function(e,i){e&1&&(s(0,"div",0)(1,"header",1)(2,"h1",2),a(3,"Dashboard Header"),o(),s(4,"button",3),h("click",function(){return i.logout()}),a(5,"Logout"),o()(),s(6,"div",4)(7,"nav",5)(8,"div",6)(9,"ul",7)(10,"li",8)(11,"a",9),h("click",function(){return i.showAdminComponent("orders")}),p(12,"i",10),a(13,"Orders "),o()(),s(14,"li",8)(15,"a",11),h("click",function(){return i.showAdminComponent("categories")}),p(16,"i",12),a(17,"Categories "),o()(),s(18,"li",8)(19,"a",13),h("click",function(){return i.showAdminComponent("products")}),p(20,"i",14),a(21,"Products "),o()(),s(22,"li",8)(23,"a",15),h("click",function(){return i.showAdminComponent("users")}),p(24,"i",14),a(25,"Users "),o()()()()(),s(26,"div",16),p(27,"router-outlet"),o()()())},dependencies:[Pe,q,ft],styles:[".container-fluid[_ngcontent-%COMP%]{background-color:#fff;padding-left:0!important;padding-right:0!important}.header[_ngcontent-%COMP%]{background-color:#333;color:#fff;padding:10px;text-align:center}#sidebar[_ngcontent-%COMP%]{background-color:#007bff!important;color:#fff;height:100vh;overflow-y:auto}#sidebar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;border-top:1px solid rgba(255,255,255,.2);padding:10px 15px}#sidebar[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{font-weight:700}#sidebar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#0056b3}.icon[_ngcontent-%COMP%]{padding:5px}"]})};var hn=[{path:"",component:kt},{path:"login",component:Rt},{path:"register",component:Tt},{path:"products/:id",component:Bt},{path:"orders",component:jt},{path:"user-profile",component:Lt},{path:"orders/:id",component:Ht},{path:"admin",component:Re,canActivate:[Gt]}];var gn=(n,t)=>{debugger;let i=Te(G).getToken();return i&&(n=n.clone({setHeaders:{Authorization:`Bearer ${i}`}})),t(n)};var Fr=(n,t)=>t.id,Ir=n=>({active:n});function kr(n,t){if(n&1){let e=w();s(0,"tr")(1,"td"),a(2),o(),s(3,"td"),a(4),o(),s(5,"td"),a(6),o(),s(7,"td"),a(8),o(),s(9,"td"),a(10),o(),s(11,"td"),a(12),o(),s(13,"td"),a(14),o(),s(15,"td"),a(16),J(17,"date"),o(),s(18,"td"),a(19),o(),s(20,"td"),a(21),o(),s(22,"td")(23,"div",12)(24,"button",5),h("click",function(){let r=g(e).$implicit,l=S();return f(l.viewDetails(r))}),a(25," View Details "),o(),s(26,"button",13),h("click",function(){let r=g(e).$implicit,l=S();return f(l.deleteOrder(r.id))}),a(27," Delete "),o()()()()}if(n&2){let e=t.$implicit;d(2),_(" ",e.id," "),d(2),b(e.user_id),d(2),b(e.fullname),d(2),b(e.email),d(2),b(e.phone_number),d(2),b(e.address),d(2),b(e.note),d(2),b(ut(17,10,e.order_date)),d(3),b(e.status),d(2),b(e.total_money)}}function Nr(n,t){if(n&1){let e=w();s(0,"li",14)(1,"a",15),h("click",function(){g(e);let r=S();return f(r.onPageChange(1))}),a(2,"First"),o()()}}function Rr(n,t){if(n&1){let e=w();s(0,"li",14)(1,"a",15),h("click",function(){g(e);let r=S();return f(r.onPageChange(r.currentPage-1))}),a(2,"Previous"),o()()}}function Tr(n,t){if(n&1){let e=w();we(0),s(1,"li",16)(2,"a",15),h("click",function(){let r=g(e).$implicit,l=S();return f(l.onPageChange(r))}),a(3),o()(),Me()}if(n&2){let e=t.$implicit,i=S();d(),m("ngClass",ve(2,Ir,e===i.currentPage)),d(2),b(e)}}function Br(n,t){if(n&1){let e=w();s(0,"li",14)(1,"a",15),h("click",function(){g(e);let r=S();return f(r.onPageChange(r.currentPage+1))}),a(2,"Next"),o()()}}function jr(n,t){if(n&1){let e=w();s(0,"li",14)(1,"a",15),h("click",function(){g(e);let r=S();return f(r.onPageChange(r.totalPages))}),a(2,"Last"),o()()}}var Wt=class n{constructor(t,e){this.orderService=t;this.router=e}orders=[];currentPage=0;itemsPerPage=12;pages=[];totalPages=0;keyword="";visiblePages=[];ngOnInit(){this.getAllOrder(this.keyword,this.currentPage,this.itemsPerPage)}getAllOrder(t,e,i){this.orderService.getAllOrders(t,e,i).subscribe({next:r=>{debugger;this.orders=r.orders,this.totalPages=r.totalPages,this.visiblePages=this.generateVisiblePageArray(this.currentPage,this.totalPages)},complete:()=>{debugger},error:r=>{debugger;console.error("Error fetching products:",r)}})}generateVisiblePageArray(t,e){let r=Math.floor(2.5),l=Math.max(t-r,1),c=Math.min(l+5-1,e);return c-l+1<5&&(l=Math.max(c-5+1,1)),new Array(c-l+1).fill(0).map((T,le)=>l+le)}onPageChange(t){this.currentPage=t,this.getAllOrder(this.keyword,this.currentPage,this.itemsPerPage)}deleteOrder(t){if(window.confirm("Are you sure you want to delete this order?"))debugger}viewDetails(t){debugger;this.router.navigate(["/admin/orders",t.id])}searchOrders(){}static \u0275fac=function(e){return new(e||n)(u(Y),u(P))};static \u0275cmp=y({type:n,selectors:[["app-order-admin"]],standalone:!0,features:[E],decls:45,vars:6,consts:[[1,"container-fluid"],[1,"row","mb-3"],[1,"col-md-8"],["type","text","placeholder","T\xECm \u0111\u01A1n h\xE0ng",1,"form-control","search-input",3,"ngModelChange","ngModel"],[1,"col-md-4"],[1,"btn","btn-primary",3,"click"],[1,"table"],[1,"d-flex","justify-content-center"],["aria-label","Page navigation"],[1,"pagination"],["class","page-item",4,"ngIf"],[4,"ngFor","ngForOf"],[2,"display","flex","gap","10px"],[1,"btn","btn-danger",3,"click"],[1,"page-item"],[1,"page-link",3,"click"],[1,"page-item",3,"ngClass"]],template:function(e,i){e&1&&(s(0,"div",0)(1,"p"),a(2,"order-admin page!"),o(),s(3,"div",1)(4,"div",2)(5,"input",3),V("ngModelChange",function(l){return A(i.keyword,l)||(i.keyword=l),l}),o()(),s(6,"div",4)(7,"button",5),h("click",function(){return i.searchOrders()}),a(8,"T\xECm ki\u1EBFm"),o()()(),s(9,"table",6)(10,"thead")(11,"tr")(12,"th"),a(13,"ID"),o(),s(14,"th"),a(15,"User ID"),o(),s(16,"th"),a(17,"Full Name"),o(),s(18,"th"),a(19,"Email"),o(),s(20,"th"),a(21,"Phone Number"),o(),s(22,"th"),a(23,"Address"),o(),s(24,"th"),a(25,"Note"),o(),s(26,"th"),a(27,"Order Date"),o(),s(28,"th"),a(29,"Status"),o(),s(30,"th"),a(31,"Total Money"),o(),s(32,"th"),a(33,"Action"),o()()(),s(34,"tbody"),_i(35,kr,28,12,"tr",null,Fr),o()(),s(37,"div",7)(38,"nav",8)(39,"ul",9),v(40,Nr,3,0,"li",10)(41,Rr,3,0,"li",10)(42,Tr,4,4,"ng-container",11)(43,Br,3,0,"li",10)(44,jr,3,0,"li",10),o()()()()),e&2&&(d(5),M("ngModel",i.keyword),d(30),vi(i.orders),d(5),m("ngIf",i.currentPage>1),d(),m("ngIf",i.currentPage>1),d(),m("ngForOf",i.visiblePages),d(),m("ngIf",i.currentPage<i.totalPages),d(),m("ngIf",i.currentPage<i.totalPages))},dependencies:[Ve,j,B,q,mt,N,U,H,Z],styles:[".page-number[_ngcontent-%COMP%]{cursor:pointer;padding:5px 10px;border:1px solid #ccc;margin:0 2px;border-radius:3px}.page-number.active[_ngcontent-%COMP%]{background-color:#7f44ff;color:#fff;border-color:#7f44ff}.btn.btn-primary[_ngcontent-%COMP%]{margin-left:10px}.container-fluid[_ngcontent-%COMP%]{background-color:#fff;padding-left:0!important;padding-right:0!important;height:100vh}"]})};var $t=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=y({type:n,selectors:[["app-product-admin"]],standalone:!0,features:[E],decls:2,vars:0,template:function(e,i){e&1&&(s(0,"p"),a(1,"product-admin works!"),o())}})};var qt=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=y({type:n,selectors:[["app-category-admin"]],standalone:!0,features:[E],decls:2,vars:0,template:function(e,i){e&1&&(s(0,"p"),a(1,"category-admin works!"),o())}})};var zt=class{user_id;fullname;email;phone_number;address;note;total_money;shipping_method;payment_method;coupon_code;cart_items;constructor(t){this.user_id=t.user_id.toString(),this.fullname=t.fullname,this.email=t.email,this.phone_number=t.phone_number.toString(),this.address=t.address,this.note=t.note,this.total_money=t.total_money,this.shipping_method=t.shipping_method,this.payment_method=t.payment_method,this.coupon_code=t.coupon_code,this.cart_items=t.cart_items}};function Ur(n,t){if(n&1&&(s(0,"tr")(1,"td"),a(2),o(),s(3,"td")(4,"p"),a(5),o()(),s(6,"td")(7,"p"),a(8),o()()()),n&2){let e=t.$implicit;d(2),b(e.product.name),d(3),b(e.product.price),d(3),b(e.number_of_products)}}var Kt=class n{constructor(t,e,i){this.orderService=t;this.route=e;this.router=i}orderId=0;orderResponse={id:0,user_id:0,fullname:"",phone_number:"",email:"",address:"",note:"",order_date:new Date,status:"",total_money:0,shipping_method:"",shipping_address:"",shipping_date:new Date,payment_method:"",order_details:[]};ngOnInit(){this.getOrderDetails()}getOrderDetails(){debugger;this.orderId=Number(this.route.snapshot.paramMap.get("id")),this.orderService.getOrderById(this.orderId).subscribe({next:t=>{debugger;this.orderResponse.id=t.id,this.orderResponse.user_id=t.user_id,this.orderResponse.fullname=t.fullname,this.orderResponse.email=t.email,this.orderResponse.phone_number=t.phone_number,this.orderResponse.address=t.address,this.orderResponse.note=t.note,this.orderResponse.total_money=t.total_money,t.order_date&&(this.orderResponse.order_date=new Date(t.order_date[0],t.order_date[1]-1,t.order_date[2])),this.orderResponse.order_details=t.order_details.map(e=>(e.product.thumbnail=`${C.apiBaseUrl}/products/images/${e.product.thumbnail}`,e.number_of_products=e.numberOfProducts,e)),this.orderResponse.payment_method=t.payment_method,t.shipping_date&&(this.orderResponse.shipping_date=new Date(t.shipping_date[0],t.shipping_date[1]-1,t.shipping_date[2])),this.orderResponse.shipping_method=t.shipping_method,this.orderResponse.status=t.status;debugger},complete:()=>{debugger},error:t=>{debugger;console.error("Error fetching detail:",t)}})}saveOrder(){debugger;this.orderService.updateOrder(this.orderId,new zt(this.orderResponse)).subscribe({next:t=>{debugger;console.log("Order updated successfully:",t),this.router.navigate(["../"],{relativeTo:this.route})},complete:()=>{debugger},error:t=>{debugger;console.error("Error updating order:",t)}})}static \u0275fac=function(e){return new(e||n)(u(Y),u(gt),u(P))};static \u0275cmp=y({type:n,selectors:[["app-detail-order-admin"]],standalone:!0,features:[E],decls:72,vars:12,consts:[[1,"container"],[1,"row"],[1,"col-md-6"],[1,"form-group"],["for","statusSelect"],["id","statusSelect",1,"form-control",3,"ngModelChange","ngModel"],["value","pending"],["value","processing"],["value","shipped"],["value","delivered"],["value","cancelled"],[1,"table"],[4,"ngFor","ngForOf"],[1,"btn","btn-primary","col-md-2",3,"click"]],template:function(e,i){e&1&&(s(0,"h1"),a(1,"This is detail order admin"),o(),s(2,"div",0)(3,"h1"),a(4,"Order Details"),o(),s(5,"div",1)(6,"div",2)(7,"h3"),a(8,"Order Information"),o(),s(9,"p")(10,"strong"),a(11,"Order ID:"),o(),a(12),o(),s(13,"p")(14,"strong"),a(15,"User ID:"),o(),a(16),o(),s(17,"p")(18,"strong"),a(19,"Full Name:"),o(),a(20),o(),s(21,"p")(22,"strong"),a(23,"Phone Number:"),o(),a(24),o(),s(25,"p")(26,"strong"),a(27,"Email:"),o(),a(28),o(),s(29,"p")(30,"strong"),a(31,"Address:"),o(),a(32),o(),s(33,"p")(34,"strong"),a(35,"Note:"),o(),a(36),o(),s(37,"p")(38,"strong"),a(39,"Order Date:"),o(),a(40),J(41,"date"),o(),s(42,"div",3)(43,"label",4)(44,"strong"),a(45,"Status:"),o()(),s(46,"select",5),V("ngModelChange",function(l){return A(i.orderResponse.status,l)||(i.orderResponse.status=l),l}),s(47,"option",6),a(48,"Pending"),o(),s(49,"option",7),a(50,"Processing"),o(),s(51,"option",8),a(52,"Shipped"),o(),s(53,"option",9),a(54,"Delivered"),o(),s(55,"option",10),a(56,"Cancelled"),o()()()(),s(57,"h3"),a(58,"Order Details"),o(),s(59,"table",11)(60,"thead")(61,"tr")(62,"th"),a(63,"Product"),o(),s(64,"th"),a(65,"Price"),o(),s(66,"th"),a(67,"Quantity"),o()()(),s(68,"tbody"),v(69,Ur,9,3,"tr",12),o()(),s(70,"button",13),h("click",function(){return i.saveOrder()}),a(71,"Save"),o()()()),e&2&&(d(12),_(" ",i.orderResponse.id,""),d(4),_(" ",i.orderResponse.user_id,""),d(4),_(" ",i.orderResponse.fullname,""),d(4),_(" ",i.orderResponse.phone_number,""),d(4),_(" ",i.orderResponse.email,""),d(4),_(" ",i.orderResponse.address,""),d(4),_(" ",i.orderResponse.note,""),d(4),_(" ",ut(41,10,i.orderResponse.order_date),""),d(6),M("ngModel",i.orderResponse.status),d(23),m("ngForOf",i.orderResponse.order_details))},dependencies:[q,B,mt,N,pe,he,ie,H,Z],styles:[".container[_ngcontent-%COMP%]{background-color:#fff}"]})};var fn=[{path:"admin",component:Re,canActivate:[Gt],children:[{path:"orders",component:Wt},{path:"products",component:$t},{path:"categories",component:qt},{path:"orders/:id",component:Kt}]}];var _n={providers:[yi({eventCoalescing:!0}),Oi(hn),hi(Fi.forChild(fn)),Ai(),xi(Di([gn]),wi()),Vi()]};var Hr={providers:[Pi()]},vn=Ei(_n,Hr);var Gr=()=>Mi(_t,vn),Fa=Gr;export{Fa as a};
